"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkmed_duties_app"] = self["webpackChunkmed_duties_app"] || []).push([["dutySetter"],{

/***/ 31468:
/*!*****************************************!*\
  !*** ./frontend/components/Calendar.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Calendar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_ToggleButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-bootstrap/ToggleButton */ 28984);\n/* harmony import */ var react_bootstrap_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap/ToggleButtonGroup */ 17954);\n/* harmony import */ var _algorithm_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithm/utils */ 59920);\n/* harmony import */ var _WithTooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WithTooltip */ 75182);\n/* harmony import */ var _algorithm_Day__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./algorithm/Day */ 97794);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\nfunction Calendar(props) {\n  var weekdays = ['Pn.', 'Wt.', 'Śr.', 'Cz.', 'Pt.', 'So.', 'Nd.'];\n  var doctorData = props.doctorData;\n  var setDoctorData = props.setDoctorData;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    mode = _useState2[0],\n    setMode = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    message = _useState4[0],\n    setMessage = _useState4[1];\n  var doctor = props.doctor;\n  var year = props.year;\n  var month = props.month;\n  var length = new Date(year, month, 0).getDate();\n  var days = (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_1__.range)(1, length + 1).map(function (day) {\n    return new _algorithm_Day__WEBPACK_IMPORTED_MODULE_3__[\"default\"](year, month, day);\n  });\n  var weeks = [];\n  var acceptedDays = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map(days.map(function (d) {\n    return [d.number, true];\n  })));\n  var acceptedDaysInitialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  var updateAcceptedDays = function updateAcceptedDays(prefDays, prefWeekdays, excepts) {\n    var preferredDays = prefDays || doctorData.preferredDays;\n    var preferredWeekdays = prefWeekdays || doctorData.preferredWeekdays;\n    var exceptions = excepts || doctorData.exceptions;\n\n    // Start fresh.\n    acceptedDays.current = new Map(days.map(function (d) {\n      return [d.number, true];\n    }));\n    var _iterator = _createForOfIteratorHelper(days),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var day = _step.value;\n        // Exclude not preferred days on non-preferred weekdays.\n        if (!preferredWeekdays.includes(day.weekday) && !preferredDays.includes(day.number)) {\n          acceptedDays.current.set(day.number, false);\n          continue;\n        }\n        // Exclude days adjacent to preferred ones (no double duties).\n        if (preferredDays.includes(day.number)) {\n          day.number > 1 && acceptedDays.current.set(day.number - 1, false);\n          day.number < length && acceptedDays.current.set(day.number + 1, false);\n          continue;\n        }\n        // Exclude exceptions.\n        if (exceptions.includes(day.number)) {\n          acceptedDays.current.set(day.number, false);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    var accepted = _toConsumableArray(acceptedDays.current.entries()).filter(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        day = _ref2[0],\n        accepted = _ref2[1];\n      return accepted;\n    }).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        day = _ref4[0],\n        accepted = _ref4[1];\n      return day;\n    });\n    for (var i = 0; i < accepted.length; i++) {\n      if (accepted[i] + 1 === accepted[i + 1]) {\n        acceptedDays.current.set(accepted[i + 1], false);\n        accepted.splice(i + 1, 1);\n      }\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    normalizeMaxDuties();\n  }, [doctorData.maxDuties]);\n  if (doctorData.maxDuties && !acceptedDaysInitialized.current) {\n    updateAcceptedDays(null, null, null);\n    acceptedDaysInitialized.current = true;\n  }\n  var normalizeMaxDuties = function normalizeMaxDuties() {\n    var prefDays = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : doctorData.preferredDays.length;\n    var count = acceptedDaysCount();\n    var maxDuties = doctorData.maxDuties;\n    if (maxDuties > count) {\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          maxDuties: count\n        });\n      });\n      setMessage(\"Maksymalna liczba dy\\u017Cur\\xF3w przekracza\\u0142a \" + \"liczb\\u0119 dy\\u017Cur\\xF3w mo\\u017Cliwych do wzi\\u0119cia po uwzgl\\u0119dnieniu preferencji. \" + \"Zmniejszono do \".concat(count, \".\"));\n    } else if (maxDuties < prefDays) {\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          maxDuties: prefDays\n        });\n      });\n      setMessage(\"Maksymalna liczba dy\\u017Cur\\xF3w by\\u0142a mniejsza \" + \"od liczby preferowanych dni miesi\\u0105ca. Zwi\\u0119kszono do \".concat(prefDays, \".\"));\n    }\n  };\n  var acceptedDaysCount = function acceptedDaysCount() {\n    return _toConsumableArray(acceptedDays.current.values()).reduce(function (total, curr) {\n      return total + Number(curr);\n    }, 0);\n  };\n  var onMouseOver = function onMouseOver(e) {\n    e.target.setAttribute('style', 'background-color: var(--schedule-color-primary) !important;' + 'color: var(--schedule-color-light) !important');\n  };\n  var onMouseOut = function onMouseOut(e) {\n    e.target.setAttribute('style', '');\n  };\n  var clearMessage = function clearMessage() {\n    setMessage('');\n  };\n  var setException = function setException(day) {\n    clearMessage();\n    var newExceptions;\n    var newPreferredDays = _toConsumableArray(doctorData.preferredDays);\n    // If days is in exceptions, remove it.\n    if (doctorData.exceptions.includes(day)) {\n      newExceptions = _toConsumableArray(doctorData.exceptions.filter(function (d) {\n        return d !== day;\n      }));\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          exceptions: newExceptions\n        });\n      });\n    }\n    // If day is not in exceptions, add it \n    // and make sure it is removed from preferred days.\n    else {\n      newExceptions = [].concat(_toConsumableArray(doctorData.exceptions), [day]);\n      newPreferredDays = _toConsumableArray(doctorData.preferredDays.filter(function (d) {\n        return d !== day;\n      }));\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          exceptions: newExceptions,\n          preferredDays: newPreferredDays\n        });\n      });\n    }\n    updateAcceptedDays(newPreferredDays, null, newExceptions);\n    normalizeMaxDuties();\n  };\n  var setPreferredDay = function setPreferredDay(day) {\n    clearMessage();\n    var newPreferredDays;\n    var newExceptions = _toConsumableArray(doctorData.exceptions);\n    // If day is already preferred, remove it.\n    if (doctorData.preferredDays.includes(day)) {\n      newPreferredDays = _toConsumableArray(doctorData.preferredDays.filter(function (d) {\n        return d !== day;\n      }));\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          preferredDays: newPreferredDays\n        });\n      });\n    }\n    // If day is not preferred, prefer it\n    // and make sure it is not in exceptions\n    // and it is not adjacent to another preferred day.\n    else {\n      if (doctorData.preferredDays.includes(day - 1) || doctorData.preferredDays.includes(day + 1)) {\n        setMessage('Nie można preferować dyżurów w następujące po sobie dni.');\n        return;\n      }\n      newPreferredDays = [].concat(_toConsumableArray(doctorData.preferredDays), [day]);\n      newExceptions = _toConsumableArray(doctorData.exceptions.filter(function (d) {\n        return d !== day;\n      }));\n      setDoctorData(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          exceptions: newExceptions,\n          preferredDays: newPreferredDays\n        });\n      });\n    }\n    updateAcceptedDays(newPreferredDays, null, newExceptions);\n    normalizeMaxDuties(newPreferredDays.length);\n  };\n  var setPreferredWeekday = function setPreferredWeekday(weekday) {\n    clearMessage();\n    var newPreferredWeekdays;\n    // If weekday is preferred, unprefer it.\n    if (doctorData.preferredWeekdays.includes(weekday)) {\n      newPreferredWeekdays = _toConsumableArray(doctorData.preferredWeekdays.filter(function (wd) {\n        return wd !== weekday;\n      }));\n    }\n    // If weekdays is not preferred, prefer it.\n    else {\n      newPreferredWeekdays = [].concat(_toConsumableArray(doctorData.preferredWeekdays), [weekday]);\n    }\n    setDoctorData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        preferredWeekdays: newPreferredWeekdays\n      });\n    });\n    updateAcceptedDays(null, newPreferredWeekdays, null);\n    normalizeMaxDuties();\n  };\n  var handleOnClick = function handleOnClick(e) {\n    var day = parseInt(e.target.innerHTML);\n    switch (mode) {\n      case 'exceptions':\n        setException(day);\n        break;\n      case 'preferredDays':\n        setPreferredDay(day);\n        break;\n      case 'preferredWeekdays':\n        if (isNaN(e.target.innerHTML)) {\n          day = weekdays.findIndex(function (wd) {\n            return wd === e.target.innerHTML;\n          });\n        } else {\n          day = (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_1__.getWeekday)(year, month, day);\n        }\n        setPreferredWeekday(day);\n    }\n  };\n  var currWeek = [];\n  var _iterator2 = _createForOfIteratorHelper(days),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var day = _step2.value;\n      var classes = \"\";\n      if (doctorData.exceptions.includes(day.number)) {\n        classes = \"bg-danger text-light\";\n      } else if (doctorData.preferredDays.includes(day.number)) {\n        classes = \"bg-primary text-light\";\n      } else if (!doctorData.preferredWeekdays.includes(day.weekday)) {\n        classes = \"text-muted\";\n      }\n      if (day.number === 1) {\n        (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_1__.range)(day.weekday).forEach(function (x, i) {\n          return currWeek.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n            key: \"0-\".concat(i, \"-\").concat(doctor.name)\n          }));\n        });\n      }\n      currWeek.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n        key: \"\".concat(day.number, \"-\").concat(doctor.name),\n        className: classes,\n        onMouseOver: onMouseOver,\n        onMouseOut: onMouseOut,\n        onClick: handleOnClick\n      }, day.number));\n      if (day.weekday === 6) {\n        weeks.push(_toConsumableArray(currWeek));\n        currWeek = [];\n      }\n      if (day.number === length) {\n        (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_1__.range)(7 - day.weekday).forEach(function (x, i) {\n          return currWeek.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n            key: \"\".concat(length, \"-\").concat(i, \"-\").concat(doctor.name)\n          }));\n        });\n        weeks.push(_toConsumableArray(currWeek));\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  var handleModeChange = function handleModeChange(value) {\n    setMode(value);\n  };\n  var tooltipMessage = 'Kliknij, by wybrać kategorię';\n  if (mode === 'exceptions') {\n    tooltipMessage = 'Wybierasz dni miesiąca zastrzeżone przez lekarza (czerwone)';\n  } else if (mode === 'preferredDays') {\n    tooltipMessage = 'Wybierasz dni miesiąca, w które lekarz ma otrzymać dyżur (niebieskie)';\n  } else if (mode === 'preferredWeekdays') {\n    tooltipMessage = 'Wybierasz dni tygodnia, w które lekarz może otrzymać dyżur (zielone)';\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    message: tooltipMessage\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_ToggleButtonGroup__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    type: \"radio\",\n    name: \"modes\",\n    value: mode,\n    onChange: handleModeChange,\n    className: message ? \"mb-2\" : \"mb-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_ToggleButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    id: \"modes-1-\".concat(doctor.name),\n    value: 'exceptions',\n    variant: \"outline-danger\"\n  }, \"Zastrz.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_ToggleButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    id: \"modes-2-\".concat(doctor.name),\n    value: 'preferredDays',\n    variant: \"outline-primary\"\n  }, \"D. Mies.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_ToggleButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    id: \"modes-3-\".concat(doctor.name),\n    value: 'preferredWeekdays',\n    variant: \"outline-success\"\n  }, \"D. Tyg.\"))), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"mb-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"small\", {\n    className: \"text-danger\"\n  }, message)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", {\n    className: \"calendar\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, weekdays.map(function (weekday, i) {\n    var classes = '';\n    if (doctorData.preferredWeekdays.includes(i)) {\n      classes = \"bg-success text-light\";\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n      key: \"weekday-\".concat(i, \"-\").concat(doctor.name),\n      onClick: handleOnClick,\n      className: classes\n    }, weekday);\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, weeks.map(function (week, i) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n      key: \"week-\".concat(i, \"-\").concat(doctor.name)\n    }, week);\n  }))));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/Calendar.js?");

/***/ }),

/***/ 84884:
/*!***************************************************!*\
  !*** ./frontend/components/DoctorActivateForm.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DoctorActivateForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap/Form */ 34034);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nfunction DoctorActivateForm(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    doctor = _useState2[0],\n    setDoctor = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    message = _useState4[0],\n    setMessage = _useState4[1];\n  var doctors = props.doctors;\n  var activateDoctor = props.activateDoctor;\n  var options = [];\n  if (doctors) {\n    doctors.forEach(function (doctor, i) {\n      options.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n        key: i,\n        value: doctor.pk\n      }, doctor.name));\n    });\n  }\n  var handleChange = function handleChange(event) {\n    setDoctor(event.target.value);\n  };\n  var handleSubmit = function handleSubmit(event) {\n    setMessage('');\n    event.preventDefault();\n    var result = activateDoctor(parseInt(doctor));\n    if (!result) {\n      setMessage('Nie udało się dodać lekarza.');\n    }\n    setDoctor(0);\n  };\n  var addAll = function addAll() {\n    var pks = doctors.map(function (d) {\n      return d.pk;\n    });\n    var result = activateDoctor.apply(void 0, _toConsumableArray(pks));\n    if (!result) {\n      setMessage('Nie udało się dodać żadnego lekarza.');\n    }\n    setDoctor(0);\n  };\n  var disabled = doctors.length === 0;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h6\", null, \"Istniej\\u0105cy lekarz\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Group, {\n    className: \"mb-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Label, null, \"Imi\\u0119\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Select, {\n    value: doctor,\n    onChange: handleChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n    disabled: true,\n    value: 0\n  }, disabled ? \"Brak dostępnych lekarzy\" : \"Wybierz...\"), options)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Group, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary me-3\",\n    disabled: disabled\n  }, \"Dodaj\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: addAll,\n    disabled: disabled\n  }, \"Dodaj wszystkich\")), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Text, null, message)));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DoctorActivateForm.js?");

/***/ }),

/***/ 18880:
/*!******************************************************!*\
  !*** ./frontend/components/DoctorPreferencesForm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DoctorPreferencesForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Form */ 34034);\n/* harmony import */ var _Calendar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Calendar */ 31468);\n/* harmony import */ var _WithTooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WithTooltip */ 75182);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nfunction DoctorPreferencesForm(props) {\n  var doctor = props.doctor;\n  var year = props.year;\n  var month = props.month;\n  var updateDoctor = props.updateDoctor;\n  var removeDoctor = props.removeDoctor;\n  var pendingDecision = props.pendingDecision;\n  var daysInMonth = new Date(year, month, 0).getDate();\n  var maximumDuties = Math.floor(new Date(year, month, 0).getDate() / 2);\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      maxDuties: 0,\n      exceptions: [],\n      preferredDays: [],\n      preferredWeekdays: [],\n      preferredPositions: [false, false, false]\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    doctorData = _useState4[0],\n    setDoctorData = _useState4[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    setDoctorData(function (prevData) {\n      return {\n        maxDuties: doctor.getMaxNumberOfDuties(),\n        exceptions: doctor.getExceptions(),\n        preferredDays: doctor.getPreferredDays(),\n        preferredWeekdays: doctor.getPreferredWeekdays(),\n        preferredPositions: doctor.unit.dutyPositions.map(function (position) {\n          return doctor.getPreferredPositions().includes(position);\n        })\n      };\n    });\n  }, [doctor.maxNumberOfDuties, doctor.exceptions, doctor.preferredDays, doctor.preferredWeekdays, doctor.preferredPositions]);\n  var inputHandler = function inputHandler(event) {\n    var _event$target = event.target,\n      name = _event$target.name,\n      value = _event$target.value;\n    if (name.slice(0, 8) === 'position') {\n      var index = parseInt(name.slice(-1)) - 1;\n      var positions = _toConsumableArray(doctorData.preferredPositions);\n      value = event.target.checked;\n      name = 'preferredPositions';\n      positions.splice(index, 1, value);\n      value = positions;\n    } else if (name === 'maxDuties') {\n      value = parseInt(value);\n      if (value && (isNaN(value) || value > maximumDuties)) {\n        value = doctorData.maxDuties;\n      }\n    }\n    setDoctorData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n  var submitHandler = function submitHandler(event) {\n    event.preventDefault();\n\n    // Validate form fields.\n    var newMessages = {};\n    if (isNaN(doctorData.maxDuties)) {\n      newMessages.maxDuties = \"Proszę podać liczbę.\";\n    } else if (doctorData.maxDuties > maximumDuties || doctorData.maxDuties < 1) {\n      newMessages.maxDuties = \"Prosz\\u0119 poda\\u0107 liczb\\u0119 w przedziale 1 - \".concat(maximumDuties);\n    }\n    if (doctorData.exceptions.some(function (exc) {\n      return exc < 1 || exc > daysInMonth;\n    })) {\n      newMessages.exceptions = \"Zastrze\\u017Cenia: prosz\\u0119 wybra\\u0107 liczby z przedzia\\u0142u 1-\".concat(daysInMonth);\n    }\n    if (doctorData.preferredDays.some(function (d) {\n      return d < 1 || d > daysInMonth;\n    })) {\n      newMessages.preferredDays = \"Preferowane dni miesi\\u0105ca: prosz\\u0119 wybra\\u0107 liczb\\u0119 z przedzia\\u0142u 1-\".concat(daysInMonth);\n    }\n    if (doctorData.preferredWeekdays.some(function (wd) {\n      return wd < 0 || wd > 6;\n    })) {\n      newMessages.preferredWeekdays = \"Preferowane dni tygodnia: prosz\\u0119 wybra\\u0107 liczb\\u0119 z przedzia\\u0142u 0 - 6\";\n    }\n    if (doctorData.preferredPositions.every(function (pos) {\n      return !pos;\n    })) {\n      newMessages.preferredPositions = \"Proszę zaznaczyć przynajmmniej jedną pozycję.\";\n    }\n    if (Object.keys(newMessages).length > 0) {\n      setMessages(newMessages);\n      return;\n    } else {\n      // Reset messages, if there were any.\n      setMessages({});\n    }\n\n    // Send data up to update doctor instance and database.\n    var data = {};\n    data.pk = doctor.pk;\n    data.maxDuties = parseInt(doctorData.maxDuties);\n    data.exceptions = doctorData.exceptions;\n    data.preferredDays = doctorData.preferredDays;\n    data.preferredWeekdays = doctorData.preferredWeekdays;\n    data.preferredPositions = [];\n    doctorData.preferredPositions.forEach(function (item, index) {\n      if (item) {\n        data.preferredPositions.push(index + 1);\n      }\n    });\n    var updatedDoctor = updateDoctor(data);\n    if (updatedDoctor) {\n      setTimeoutMessage('saveResult', 'Zapisano!');\n      doctor = updatedDoctor;\n    } else {\n      setTimeoutMessage('saveResult', 'Nie zapisano!');\n    }\n  };\n  var removeHandler = function removeHandler(e) {\n    e.preventDefault();\n    removeDoctor(doctor.pk);\n  };\n  var setTimeoutMessage = function setTimeoutMessage(type, message) {\n    var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2000;\n    setMessages(_defineProperty({}, type, message));\n    setTimeout(function () {\n      setMessages({});\n    }, timeout);\n  };\n  var positionChecks = doctorData.preferredPositions.map(function (position, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Check, {\n      inline: true,\n      type: \"checkbox\",\n      name: \"position-\".concat(index + 1),\n      label: \"\".concat(index + 1),\n      id: \"position-\".concat(index + 1, \"-doc-\").concat(doctor.pk),\n      key: \"position-\".concat(index + 1, \"-doc-\").concat(doctor.pk),\n      checked: doctorData.preferredPositions[index],\n      onChange: inputHandler\n    });\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    onSubmit: submitHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Group, {\n    className: \"mb-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Control, {\n    type: \"submit\",\n    value: messages.saveResult || \"Zapisz ustawienia\",\n    className: \"btn btn-primary\",\n    disabled: messages.saveResult\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Group, {\n    className: \"mb-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Label, null, \"Maksymalna liczba dy\\u017Cur\\xF3w\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    message: \"Lekarz nie dostanie wi\\u0119cej dy\\u017Cur\\xF3w, \" + \"ale mo\\u017Ce dosta\\u0107 mniej. Wybierz od 1 do \".concat(maximumDuties, \".\")\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Control, {\n    type: \"number\",\n    name: \"maxDuties\",\n    value: doctorData.maxDuties,\n    onChange: inputHandler,\n    placeholder: \"\"\n  }), messages.maxDuties && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text, {\n    className: \"text-danger\"\n  }, messages.maxDuties)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Group, {\n    className: \"mb-1\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Label, null, \"Ustawienia poszczeg\\xF3lnych dni\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    message: \"Wybierz kategorię dni, które chcesz zmienić, \" + \"następnie zaznaczaj i odznaczaj dni miesiąca \" + \"lub tygodnia w kalendarzu.\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Calendar__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    year: year,\n    month: month,\n    doctor: doctor,\n    doctorData: {\n      maxDuties: doctorData.maxDuties,\n      exceptions: doctorData.exceptions,\n      preferredDays: doctorData.preferredDays,\n      preferredWeekdays: doctorData.preferredWeekdays\n    },\n    setDoctorData: setDoctorData\n  }), messages.exceptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text, {\n    className: \"text-danger\"\n  }, messages.exceptions), messages.preferredDays && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text, {\n    className: \"text-danger\"\n  }, messages.preferredDays), messages.preferredWeekdays && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text, {\n    className: \"text-danger\"\n  }, messages.preferredWeekdays)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Group, {\n    className: \"mb-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Label, null, \"Pozycje dy\\u017Curowe\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, positionChecks), messages.preferredPositions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Text, {\n    className: \"text-danger\"\n  }, messages.preferredPositions)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Group, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    message: \"Lekarza mo\\u017Cesz doda\\u0107 z powrotem w zak\\u0142adce \\\"Dodaj lekarza\\\" na dole strony.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Control, {\n    type: \"submit\",\n    value: pendingDecision.removeDoctor === doctor.pk ? \"Potwierdź...\" : \"Usuń z grafiku\",\n    className: \"btn btn-light border\",\n    onClick: removeHandler,\n    disabled: pendingDecision.removeDoctor === doctor.pk\n  })))));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DoctorPreferencesForm.js?");

/***/ }),

/***/ 62374:
/*!*******************************************!*\
  !*** ./frontend/components/DutySetter.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DutiesSetter)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-router-dom */ 89250);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-router-dom */ 79655);\n/* harmony import */ var react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-bootstrap/Accordion */ 82090);\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! react-bootstrap/Row */ 34051);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! react-bootstrap/Col */ 31555);\n/* harmony import */ var _ScheduleSettings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ScheduleSettings */ 74327);\n/* harmony import */ var _ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScheduleMenuButton */ 41010);\n/* harmony import */ var _ColumnLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ColumnLayout */ 83017);\n/* harmony import */ var _OverlaySpinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OverlaySpinner */ 25505);\n/* harmony import */ var _Alert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Alert */ 50403);\n/* harmony import */ var _Log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Log */ 84135);\n/* harmony import */ var _DutyStatistics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DutyStatistics */ 11310);\n/* harmony import */ var _Schedule__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Schedule */ 3213);\n/* harmony import */ var _DoctorPreferencesForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DoctorPreferencesForm */ 18880);\n/* harmony import */ var _DoctorActivateForm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DoctorActivateForm */ 84884);\n/* harmony import */ var _algorithm_Doctor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./algorithm/Doctor */ 77333);\n/* harmony import */ var _algorithm_Day__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./algorithm/Day */ 97794);\n/* harmony import */ var _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./algorithm/Duty */ 18417);\n/* harmony import */ var _algorithm_MonthlyDuties__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./algorithm/MonthlyDuties */ 50868);\n/* harmony import */ var _algorithm_Unit__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./algorithm/Unit */ 44800);\n/* harmony import */ var _axiosApi__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../axiosApi */ 11178);\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! xlsx */ 84105);\n/* harmony import */ var _algorithm_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./algorithm/utils */ 59920);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar months = {\n  1: 'Styczeń',\n  2: 'Luty',\n  3: 'Marzec',\n  4: 'Kwiecień',\n  5: 'Maj',\n  6: 'Czerwiec',\n  7: 'Lipiec',\n  8: 'Sierpień',\n  9: 'Wrzesień',\n  10: 'Październik',\n  11: 'Listopad',\n  12: 'Grudzień'\n};\nvar positionNames = {\n  1: 'PIERWSZY',\n  2: 'DRUGI',\n  3: 'TRZECI'\n};\nfunction DutiesSetter() {\n  // Create state.\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      unit: {},\n      doctors: [],\n      inactiveDoctors: [],\n      monthlyDuties: {}\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    appData = _useState2[0],\n    setAppData = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      history: [],\n      position: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dutiesHistory = _useState4[0],\n    setDutiesHistory = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      show: false,\n      variant: '',\n      header: '',\n      content: '',\n      clickToClose: true\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    alertData = _useState6[0],\n    setAlertData = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      hide: true,\n      items: null,\n      heading: 'Log'\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    logData = _useState8[0],\n    setLogData = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    highlight = _useState10[0],\n    setHighlight = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      hide: true,\n      data: null\n    }),\n    _useState12 = _slicedToArray(_useState11, 2),\n    statsData = _useState12[0],\n    setStatsData = _useState12[1];\n  var _useState13 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      show: false,\n      messages: [],\n      content: null\n    }),\n    _useState14 = _slicedToArray(_useState13, 2),\n    spinnerData = _useState14[0],\n    setSpinnerData = _useState14[1];\n  var _useState15 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    pendingDecision = _useState16[0],\n    setPendingDecision = _useState16[1];\n\n  // Init max number of duties.\n  var maximumDuties = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(15);\n\n  // Get data.\n  var _useLoaderData = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_18__.useLoaderData)(),\n    _useLoaderData2 = _slicedToArray(_useLoaderData, 5),\n    unitData = _useLoaderData2[0],\n    doctorsData = _useLoaderData2[1],\n    scheduleData = _useLoaderData2[2],\n    prevDutiesData = _useLoaderData2[3],\n    nextDutiesData = _useLoaderData2[4];\n\n  // Get loader data, process it and save in state.\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var _scheduleData$monthan = scheduleData.monthandyear.split('/'),\n      _scheduleData$monthan2 = _slicedToArray(_scheduleData$monthan, 2),\n      month = _scheduleData$monthan2[0],\n      year = _scheduleData$monthan2[1];\n\n    // Update max number of duties.\n    maximumDuties.current = Math.floor(new Date(year, month, 0).getDate() / 2);\n\n    // Create Unit instance.\n    var unit = new _algorithm_Unit__WEBPACK_IMPORTED_MODULE_15__[\"default\"](unitData.pk, unitData.name, unitData.duty_positions);\n\n    // Create doctors instances.\n    var doctors = [];\n    var inactiveDoctors = [];\n    doctorsData.forEach(function (doctor) {\n      var doctorData = scheduleData.doctor_data.find(function (data) {\n        return data.doctor === doctor.pk;\n      });\n      var d = new _algorithm_Doctor__WEBPACK_IMPORTED_MODULE_11__[\"default\"](doctor.name, unit, year, month, doctor.pk);\n      if (doctorData) {\n        if (doctorData.strain) {\n          d.setStrain(doctorData.strain);\n        }\n        if (doctorData.max_number_of_duties) {\n          d.setMaxNumberOfDuties(doctorData.max_number_of_duties, true);\n        }\n        if (doctorData.exceptions) {\n          var exceptions = doctorData.exceptions.split(' ').map(function (exc) {\n            return parseInt(exc);\n          });\n          d.setExceptions(exceptions, true);\n        }\n        if (doctorData.preferred_days) {\n          var days = doctorData.preferred_days.split(' ').map(function (day) {\n            return parseInt(day);\n          });\n          d.setPreferredDays(days, true);\n        }\n        if (doctorData.preferred_positions) {\n          var positions = doctorData.preferred_positions.split(' ').map(function (pos) {\n            return parseInt(pos);\n          });\n          d.setPreferredPositions(positions, true);\n        }\n        if (doctorData.preferred_weekdays) {\n          var weekdays = doctorData.preferred_weekdays.split(' ').map(function (weekday) {\n            return parseInt(weekday);\n          });\n          d.setPreferredWeekdays(weekdays, true);\n        }\n        if (doctorData.locked) {\n          d.lockPreferences();\n        }\n        d.setSettingsPk(doctorData.pk);\n        doctors.push(d);\n      } else {\n        inactiveDoctors.push(d);\n      }\n    });\n\n    // Add doctors to unit.\n    unit.addDoctors(doctors);\n\n    // Create schedule instance.\n    var monthlyDuties = new _algorithm_MonthlyDuties__WEBPACK_IMPORTED_MODULE_14__[\"default\"](year, month, unit, scheduleData.pk);\n\n    // Add duties to schedule \n    // (which will add them to doctors instances as well).\n    var duties = scheduleData.duties.map(function (duty) {\n      var doctor = duty.doctor ? doctors.find(function (doctor) {\n        return doctor.pk === duty.doctor;\n      }) : null;\n      var day = monthlyDuties.getDays().find(function (day) {\n        return day.number === duty.day;\n      });\n      return new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__[\"default\"](day, doctor, duty.position, duty.strain_points, duty.pk, duty.user_set);\n    });\n    monthlyDuties.addDuties(duties);\n\n    // Add prev month's duties to schedule.\n    var prevYear = month === 1 ? year - 1 : month;\n    var prevMonth = month === 1 ? 12 : month - 1;\n    var prevMonthDuties = prevDutiesData.filter(function (duty) {\n      var monthLength = new Date(prevYear, prevMonth, 0).getDate();\n      return parseInt(duty.day) > monthLength - 7;\n    }).map(function (duty) {\n      var doctor = doctors.find(function (d) {\n        return d.pk === duty.doctor;\n      });\n      if (!doctor) {\n        doctor = inactiveDoctors.find(function (d) {\n          return d.pk === duty.doctor;\n        });\n      }\n      if (!doctor) {\n        doctor = null;\n      }\n      var prevYear = month === 1 ? year - 1 : year;\n      var prevMonth = month === 1 ? 12 : month - 1;\n      var day = new _algorithm_Day__WEBPACK_IMPORTED_MODULE_12__[\"default\"](prevYear, prevMonth, duty.day);\n      return new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__[\"default\"](day, doctor, duty.position, duty.strain_points, duty.pk, duty.user_set);\n    });\n    monthlyDuties.addPrevMonthDuties(prevMonthDuties);\n\n    // Add next month's duties to schedule.\n    var nextYear = month === 12 ? year + 1 : year;\n    var nextMonth = month === 12 ? 1 : month + 1;\n    var nextMonthDuties = nextDutiesData.filter(function (duty) {\n      return parseInt(duty.day) < 8;\n    }).map(function (duty) {\n      var doctor = doctors.find(function (d) {\n        return d.pk === duty.doctor;\n      });\n      if (!doctor) {\n        doctor = inactiveDoctors.find(function (d) {\n          return d.pk === duty.doctor;\n        });\n      }\n      if (!doctor) {\n        doctor = null;\n      }\n      var day = new _algorithm_Day__WEBPACK_IMPORTED_MODULE_12__[\"default\"](nextYear, nextMonth, duty.day);\n      return new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__[\"default\"](day, doctor, duty.position, duty.strain_points, duty.pk, duty.user_set);\n    });\n    monthlyDuties.addNextMonthDuties(nextMonthDuties);\n\n    // Create first preferences object.\n    monthlyDuties.updatePreferences();\n\n    // Add all the above to state.\n    setAppData({\n      unit: unit,\n      doctors: doctors,\n      inactiveDoctors: inactiveDoctors,\n      monthlyDuties: monthlyDuties\n    });\n\n    // Initialize first history state.\n    //const serializedDuties = serializeDuties(duties);\n    //saveDutiesHistory(serializedDuties);\n  }, []);\n  var setDuties = function setDuties() {\n    // Cancel previous error messages.\n    dismissAlerts();\n\n    // Save history.\n    saveDutiesHistory();\n\n    // Create worker.\n    var myWorker = new Worker(window.location.origin + \"/static/frontend/public/worker.js\");\n\n    // Show spinner.\n    var cancelButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        myWorker.terminate();\n        hideSpinner();\n      }\n    }, \"Przerwij\");\n    showSpinner(['Układam dyżury...', 'Negocjuję z lekarzami...', 'Oferuję podwyżki...', 'Zamieszczam ogłoszenia o pracy...', 'Ułożenie dyżurów może trwać nawet kilka minut.'], cancelButton);\n\n    // Send data to worker (it will trigger setting duties).\n    var data = serializeAppData();\n    myWorker.postMessage(data);\n\n    // Receive result.\n    var result = null;\n    myWorker.onmessage = function (event) {\n      result = event.data;\n      myWorker.terminate();\n\n      // Transform raw data into list items.\n      var logItems = result.logData;\n\n      // Save response and log in appropriate state.\n      if (result.success) {\n        // Create log, if there are any items.\n        log(logItems, 'Log', false);\n        if (result.allSet) {\n          var info = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Dy\\u017Cury zosta\\u0142y u\\u0142o\\u017Cone.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \"Pami\\u0119taj, \\u017Ceby \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"zapisa\\u0107\"), \" je przed wyj\\u015Bciem.\");\n          showAlert(info);\n        } else {\n          var settingError = 'Nie udało się ułożyć wszystkich dyżurów.';\n          var header = 'Nie wyszło...';\n          var variant = 'warning';\n          showAlert(settingError, header, variant);\n        }\n\n        // Clear non-user-set duties.\n        appData.monthlyDuties.clearDuties();\n\n        // Update duties in monthly duties.\n        var _iterator = _createForOfIteratorHelper(result.duties),\n          _step;\n        try {\n          var _loop = function _loop() {\n            var dutyData = _step.value;\n            var day = appData.monthlyDuties.getDay(dutyData.day);\n            var doctor = appData.doctors.find(function (doc) {\n              return doc.pk === dutyData.doctor;\n            }) || appData.inactiveDoctors.find(function (doc) {\n              return doc.pk === dutyData.doctor;\n            });\n            if (!doctor) {\n              doctor = null;\n            }\n            var duty = new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__[\"default\"](day, doctor, dutyData.position, dutyData.strainPoints, 0, dutyData.setByUser);\n            appData.monthlyDuties.setDuty(duty);\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            _loop();\n          }\n\n          // Update preferences.\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        appData.monthlyDuties.updatePreferences();\n\n        // Update element by reloading state.\n        setAppData(function (prevData) {\n          return _objectSpread({}, prevData);\n        });\n\n        // Update statistics.\n        updateStatistics();\n\n        // Hide spinner.\n        hideSpinner();\n      } else {\n        hideSpinner();\n        var heading = 'Ustawienia uniemożliwiające ułożenie dyżurów';\n        log(logItems, heading);\n        var _settingError = 'Dyżury nie zostały ułożone z powodu ustawień lekarzy. ' + 'Sprawdź log, aby zobaczyć szczegółowe informacje.';\n        var _header = 'Nie wyszło...';\n        var _variant = 'warning';\n        showAlert(_settingError, _header, _variant);\n      }\n    };\n  };\n  var serializeAppData = function serializeAppData() {\n    var data = {\n      unit: unitData,\n      monthlyDuties: serializeMonthlyDuties(),\n      doctors: serializeDoctors(),\n      prevDutiesData: prevDutiesData,\n      nextDutiesData: nextDutiesData\n    };\n    return data;\n  };\n  var serializeMonthlyDuties = function serializeMonthlyDuties() {\n    var month = appData.monthlyDuties.month;\n    var year = appData.monthlyDuties.year;\n    var data = {\n      pk: appData.monthlyDuties.getPk(),\n      monthandyear: \"\".concat(month, \"/\").concat(year)\n    };\n    if (appData.doctors.length) {\n      data.doctor_data = appData.doctors.map(function (doctor) {\n        return {\n          pk: doctor.getSettingsPk(),\n          doctor: doctor.getPk(),\n          strain: doctor.getStrain(),\n          max_number_of_duties: doctor.getMaxNumberOfDuties(),\n          exceptions: doctor.getExceptions().join(' '),\n          preferred_days: doctor.getPreferredDays().join(' '),\n          preferred_weekdays: doctor.getPreferredWeekdays().join(' '),\n          preferred_positions: doctor.getPreferredPositions().join(' '),\n          locked: doctor.isLocked()\n        };\n      });\n    }\n    var duties = serializeDuties();\n    if (duties.length) {\n      data.duties = duties;\n    }\n    return data;\n  };\n  var serializeDuties = function serializeDuties() {\n    var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var duties = d || _toConsumableArray(appData.monthlyDuties.getDuties().values()).map(function (item) {\n      return Object.values(item);\n    }).flat();\n    if (duties.length) {\n      return duties.map(function (duty) {\n        var mapped = {\n          day: duty.getDay().number,\n          weekday: duty.getDay().weekday,\n          week: duty.getDay().week,\n          position: duty.getPosition(),\n          strain_points: duty.getStrain(),\n          user_set: duty.isUserSet()\n        };\n        var pk = duty.getPk();\n        var doctor = duty.getDoctor();\n        pk && (mapped['pk'] = pk);\n        doctor ? mapped['doctor'] = doctor.getPk() : mapped['doctor'] = null;\n        return mapped;\n      });\n    } else {\n      return [];\n    }\n  };\n  var serializeDoctors = function serializeDoctors() {\n    var data = [];\n    var _iterator2 = _createForOfIteratorHelper(appData.doctors),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var doctor = _step2.value;\n        var doctorData = {\n          pk: doctor.getPk(),\n          name: doctor.name,\n          unit: doctor.unit.pk\n        };\n        data.push(doctorData);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    return data;\n  };\n  var dispatchDuties = function dispatchDuties(duties) {\n    var result = duties.map(function (duty) {\n      var doctor = duty.doctor ? appData.doctors.find(function (doctor) {\n        return doctor.pk === duty.doctor;\n      }) : null;\n      var day = appData.monthlyDuties.getDays().find(function (day) {\n        return day.number === duty.day;\n      });\n      return new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_13__[\"default\"](day, doctor, duty.position, duty.strain_points, duty.pk, duty.user_set);\n    });\n    appData.monthlyDuties.addDuties(result);\n  };\n  var setDoctorOnDuty = function setDoctorOnDuty(duty, doctor) {\n    var userSet = false;\n    doctor && (userSet = true);\n    saveDutiesHistory();\n    appData.monthlyDuties.changeDoctor(duty, doctor, userSet);\n    appData.monthlyDuties.updatePreferences();\n    setAppData(function (prevData) {\n      return _objectSpread({}, prevData);\n    });\n    updateStatistics();\n  };\n  var saveDutiesHistory = function saveDutiesHistory() {\n    var duties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : serializeDuties();\n    var newHistory = _toConsumableArray(dutiesHistory.history.slice(0, dutiesHistory.position));\n    newHistory.push(duties);\n    if (newHistory.length > 6) {\n      newHistory.shift();\n    }\n    var newPosition = newHistory.length;\n    setDutiesHistory({\n      history: newHistory,\n      position: newPosition\n    });\n  };\n  var historyMoveBack = function historyMoveBack() {\n    var newPosition = dutiesHistory.position - 1;\n    var newHistory = _toConsumableArray(dutiesHistory.history);\n    if (dutiesHistory.position === dutiesHistory.history.length) {\n      newHistory.push(serializeDuties());\n      newHistory.length > 7 && newHistory.shift();\n    }\n    dispatchDuties(dutiesHistory.history[newPosition]);\n    setDutiesHistory({\n      history: newHistory,\n      position: newPosition\n    });\n    updateStatistics();\n  };\n  var historyMoveForward = function historyMoveForward() {\n    var newPosition = dutiesHistory.position + 1;\n    dispatchDuties(dutiesHistory.history[newPosition]);\n    setDutiesHistory(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        position: newPosition\n      });\n    });\n    updateStatistics();\n  };\n  var updateStatistics = function updateStatistics() {\n    var data = appData.monthlyDuties.getStatistics();\n    setStatsData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        data: data\n      });\n    });\n  };\n  var normalizeMaxDuties = function normalizeMaxDuties() {\n    /**\n     * Modifies doctors' max number of duties setting\n     * so that it's sum is equal to number of duties\n     * in month.\n     */\n\n    var doctors = _toConsumableArray(appData.doctors);\n    var initMaxDuties = getMaxDuties(doctors);\n    var avgDuties = totalDuties() / doctors.length;\n    var avgMaxDuties = function avgMaxDuties() {\n      return totalMaxDuties() / doctors.length;\n    };\n    var factor = function factor() {\n      return avgDuties / avgMaxDuties();\n    };\n    var diff = function diff() {\n      return totalDuties() - totalMaxDuties();\n    };\n\n    // Check if goal is achievable.\n    if (!appData.doctors.length) {\n      return [false, 'Nie dodano lekarzy!'];\n    } else if (appData.doctors.length * maximumDuties < totalDuties()) {\n      return [false, 'Zbyt mało lekarzy.'];\n    }\n\n    // Check if goal is already achieved.\n    if (diff() === 0) {\n      return [false, \"Lekarze deklarują właściwą liczbę dyżurów.\"];\n    }\n    var drift = Math.ceil(totalMaxDuties() / 30) + 2;\n    var i = 0;\n    while (Math.abs(diff()) > drift) {\n      normalize(doctors, factor());\n      if (i > 5) {\n        break;\n      }\n      i++;\n    }\n    while (diff() !== 0) {\n      (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_17__.shuffle)(doctors);\n      var candidate = getDoctorWithExtremeMax(doctors, diff());\n      var modifier = diff() / Math.abs(diff());\n      candidate.setMaxNumberOfDuties(candidate.getMaxNumberOfDuties() + modifier);\n    }\n    var newMaxDuties = getMaxDuties(doctors);\n    logChanges(initMaxDuties, newMaxDuties);\n    refreshState();\n    saveNewMaxDutiesToDB(newMaxDuties);\n    return [true, null];\n  };\n  var getMaxDuties = function getMaxDuties(doctors) {\n    var result = new Map();\n    var _iterator3 = _createForOfIteratorHelper(doctors),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var doctor = _step3.value;\n        result.set(doctor, doctor.getMaxNumberOfDuties());\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return result;\n  };\n  var totalMaxDuties = function totalMaxDuties() {\n    var doctors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : appData.doctors;\n    return doctors.reduce(function (total, doctor) {\n      return total + doctor.getMaxNumberOfDuties();\n    }, 0);\n  };\n  var totalDuties = function totalDuties() {\n    if (Object.values(appData.monthlyDuties).length) {\n      return appData.monthlyDuties.getDays().length * appData.monthlyDuties.dutyPositions.length;\n    }\n  };\n  var normalize = function normalize(doctors, factor) {\n    doctors.forEach(function (doctor) {\n      var newDuties = Math.round(doctor.getMaxNumberOfDuties() * factor);\n      newDuties > maximumDuties && (newDuties = maximumDuties);\n      doctor.setMaxNumberOfDuties(newDuties);\n    });\n  };\n  var getDoctorWithExtremeMax = function getDoctorWithExtremeMax(doctors, diff) {\n    return doctors.reduce(function (best, doctor) {\n      var doctorMax = doctor.getMaxNumberOfDuties();\n      var bestMax = best.getMaxNumberOfDuties();\n      if (doctorMax * diff < bestMax * diff) {\n        return doctor;\n      } else {\n        return best;\n      }\n    }, doctors[0]);\n  };\n  var logChanges = function logChanges(initData, newData) {\n    var logItems = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, \"ZMIENIONO maksymaln\\u0105 liczb\\u0119 dy\\u017Cur\\xF3w poszczeg\\xF3lnych lekarzy, aby umo\\u017Cliwi\\u0107 przydzielenie im dok\\u0142adnie podanej liczby dy\\u017Cur\\xF3w. \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \" UWAGA! Sprawd\\u017A, czy zmiany odpowiadaj\\u0105 Twoim potrzebom. Mo\\u017Cesz chcie\\u0107 wprowadzi\\u0107 korekty, albo cofn\\u0105\\u0107 zmiany i r\\u0119cznie dostosowa\\u0107 ustawienia.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"link text-primary\",\n      onClick: function onClick() {\n        return undoChanges(initData);\n      }\n    }, \"[[ COFNIJ ZMIANY ]]\"))];\n    var _iterator4 = _createForOfIteratorHelper(appData.doctors),\n      _step4;\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var doctor = _step4.value;\n        var initMax = initData.get(doctor);\n        var newMax = newData.get(doctor);\n        if (initMax !== newMax) {\n          var change = initMax < newMax ? 'zwiększono' : 'zmniejszono';\n          logItems.push(\"\".concat(doctor.name, \": \").concat(change, \" maksymaln\\u0105 \") + \"liczb\\u0119 dy\\u017Cur\\xF3w o \".concat(Math.abs(initMax - newMax), \" - \") + \"z \".concat(initMax, \" do \").concat(newMax, \".\"));\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n    log(logItems);\n  };\n  var undoChanges = function undoChanges(initData) {\n    var _iterator5 = _createForOfIteratorHelper(appData.doctors),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var doctor = _step5.value;\n        doctor.setMaxNumberOfDuties(initData.get(doctor));\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n    log(['Cofnięto']);\n    refreshState();\n    saveNewMaxDutiesToDB(initData);\n  };\n  var saveNewMaxDutiesToDB = function saveNewMaxDutiesToDB(newData) {\n    var _iterator6 = _createForOfIteratorHelper(appData.doctors),\n      _step6;\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var doctor = _step6.value;\n        var data = {\n          pk: doctor.getPk(),\n          maxDuties: newData.get(doctor)\n        };\n        updateDoctor(data);\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n  };\n  var updateDoctor = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(d) {\n      var data, doctor, settingsPk, month, year, url, response, pk, _url, generalError, header, variant;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = _objectSpread({}, d); // Get doctor\n              doctor = appData.doctors.find(function (doc) {\n                return doc.pk === data.pk;\n              }); // Update instance and sync data.\n              'maxDuties' in data ? doctor.setMaxNumberOfDuties(data.maxDuties, true) : data.maxDuties = doctor.getMaxNumberOfDuties();\n              'exceptions' in data ? doctor.setExceptions(data.exceptions, true) : data.exceptions = doctor.getExceptions();\n              'preferredDays' in data ? doctor.setPreferredDays(data.preferredDays, true) : data.preferredDays = doctor.getPreferredDays();\n              'preferredPositions' in data ? doctor.setPreferredPositions(data.preferredPositions, true) : data.preferredPositions = doctor.getPreferredPositions();\n              'preferredWeekdays' in data ? doctor.setPreferredWeekdays(data.preferredWeekdays, true) : data.preferredWeekdays = doctor.getPreferredWeekdays();\n              'locked' in data ? data.locked && doctor.lockPreferences() : data.locked = doctor.isLocked();\n\n              // Update database.\n              _context.prev = 8;\n              settingsPk = doctor.getSettingsPk();\n              month = appData.monthlyDuties.month;\n              year = appData.monthlyDuties.year;\n              if (!(settingsPk === null)) {\n                _context.next = 21;\n                break;\n              }\n              // Create settings in database with current data.\n              url = \"/unit/\".concat(appData.unit.pk, \"/duties/\").concat(year, \"/\").concat(month) + \"/settings/\";\n              _context.next = 16;\n              return _axiosApi__WEBPACK_IMPORTED_MODULE_16__[\"default\"].post(url, {\n                doctor: doctor.getPk(),\n                monthly_duties: appData.monthlyDuties.getPk(),\n                strain: doctor.getStrain(),\n                max_number_of_duties: data.maxDuties,\n                exceptions: data.exceptions.join(' '),\n                preferred_days: data.preferredDays.join(' '),\n                preferred_weekdays: data.preferredWeekdays.join(' '),\n                preferred_positions: data.preferredPositions.join(' '),\n                locked: data.locked\n              });\n            case 16:\n              response = _context.sent;\n              // Update settings pk in doctor instance to enable updates.\n              pk = response.data.pk;\n              doctor.setSettingsPk(pk);\n              _context.next = 24;\n              break;\n            case 21:\n              // Update settings in database.\n              _url = \"/unit/\".concat(appData.unit.pk, \"/duties/\").concat(year, \"/\").concat(month) + \"/settings/\".concat(doctor.getSettingsPk(), \"/\");\n              _context.next = 24;\n              return _axiosApi__WEBPACK_IMPORTED_MODULE_16__[\"default\"].put(_url, {\n                pk: doctor.getSettingsPk(),\n                doctor: doctor.getPk(),\n                monthly_duties: appData.monthlyDuties.getPk(),\n                strain: doctor.getStrain(),\n                max_number_of_duties: data.maxDuties,\n                exceptions: data.exceptions.join(' '),\n                preferred_days: data.preferredDays.join(' '),\n                preferred_weekdays: data.preferredWeekdays.join(' '),\n                preferred_positions: data.preferredPositions.join(' '),\n                locked: data.locked\n              });\n            case 24:\n              // Update preferences.\n              appData.monthlyDuties.updatePreferences();\n              // Refresh.\n              refreshState();\n              _context.next = 36;\n              break;\n            case 28:\n              _context.prev = 28;\n              _context.t0 = _context[\"catch\"](8);\n              console.log(_context.t0);\n              generalError = \"Błąd aktualizacji bazy danych. Zmienione dane \" + \"nie zostały zachowane na serwerze i nie będą dostępne po \" + \"odświeżeniu strony.\";\n              header = 'Błąd przesyłania danych';\n              variant = 'danger';\n              showAlert(generalError, header, variant);\n              return _context.abrupt(\"return\", false);\n            case 36:\n              return _context.abrupt(\"return\", doctor);\n            case 37:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[8, 28]]);\n    }));\n    return function updateDoctor(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var createSettings = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(doctor) {\n      var month, year, url, response, settingsPk, generalError, header, variant;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              // Create settings for current month.\n              month = appData.monthlyDuties.month;\n              year = appData.monthlyDuties.year;\n              url = \"/unit/\".concat(appData.unit.pk, \"/duties/\") + \"\".concat(year, \"/\").concat(month, \"/settings/\");\n              _context2.next = 6;\n              return _axiosApi__WEBPACK_IMPORTED_MODULE_16__[\"default\"].post(url, {\n                doctor: doctor.getPk(),\n                monthly_duties: appData.monthlyDuties.getPk(),\n                strain: doctor.getStrain(),\n                max_number_of_duties: doctor.getMaxNumberOfDuties(),\n                exceptions: doctor.getExceptions().join(' '),\n                preferred_days: doctor.getPreferredDays().join(' '),\n                preferred_weekdays: doctor.getPreferredWeekdays().join(' '),\n                preferred_positions: doctor.getPreferredPositions().join(' '),\n                locked: doctor.isLocked()\n              });\n            case 6:\n              response = _context2.sent;\n              // Update settings pk in doctor instance to enable updates.\n              settingsPk = response.data.pk;\n              doctor.setSettingsPk(settingsPk);\n              _context2.next = 18;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n              generalError = \"Nie udało się zapisać w bazie danych\" + \"preferencji lekarza na bieżący miesiąc. Spróbuj zapisać \" + \"je ponownie później, klikając przycisk Zapisz w oknie \" + \"lekarza po lewej. W przeciwnym razie zapisane zostaną \" + \"preferencje domyślne.\";\n              header = 'Błąd przesyłania danych';\n              variant = 'danger';\n              showAlert(generalError, header, variant);\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 11]]);\n    }));\n    return function createSettings(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var activateDoctor = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var newInactiveDoctors,\n        newDoctors,\n        errors,\n        _len,\n        pks,\n        _key,\n        _loop2,\n        _i2,\n        _pks,\n        _ret,\n        _args3 = arguments;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newInactiveDoctors = _toConsumableArray(appData.inactiveDoctors);\n              newDoctors = _toConsumableArray(appData.doctors); // Keep count of errors.\n              errors = 0;\n              for (_len = _args3.length, pks = new Array(_len), _key = 0; _key < _len; _key++) {\n                pks[_key] = _args3[_key];\n              }\n              _loop2 = function _loop2() {\n                var pk = _pks[_i2];\n                // Get doctor; return if not found.\n                var doctor = appData.inactiveDoctors.find(function (doctor) {\n                  return doctor.pk === pk;\n                });\n                if (!doctor) {\n                  errors++;\n                  return \"continue\";\n                }\n\n                // Move doctor to correct part of the state.\n                newInactiveDoctors = newInactiveDoctors.filter(function (d) {\n                  return !(d.pk === doctor.pk);\n                });\n                newDoctors = [].concat(_toConsumableArray(newDoctors), [doctor]);\n\n                // Add doctor to MD and unit instances.\n                appData.unit.addDoctors([doctor]);\n                appData.monthlyDuties.addDoctors([doctor]);\n\n                // Check if doctor settings are in DB and save them if not.\n                var settingsPk = doctor.getSettingsPk();\n                if (!settingsPk) {\n                  createSettings(doctor);\n                }\n              };\n              _i2 = 0, _pks = pks;\n            case 6:\n              if (!(_i2 < _pks.length)) {\n                _context3.next = 13;\n                break;\n              }\n              _ret = _loop2();\n              if (!(_ret === \"continue\")) {\n                _context3.next = 10;\n                break;\n              }\n              return _context3.abrupt(\"continue\", 10);\n            case 10:\n              _i2++;\n              _context3.next = 6;\n              break;\n            case 13:\n              if (!(errors === pks.length)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\", false);\n            case 15:\n              // Update preferences.\n              appData.monthlyDuties.updatePreferences();\n\n              // Save changes in state.\n              setAppData(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  inactiveDoctors: newInactiveDoctors,\n                  doctors: newDoctors\n                });\n              });\n              return _context3.abrupt(\"return\", true);\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return function activateDoctor() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var removeDoctor = function removeDoctor(pk) {\n    setPendingDecision({\n      removeDoctor: pk\n    });\n    var header = \"Usuwasz lekarza z grafiku\";\n    var variant = \"warning\";\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Zamierzasz usun\\u0105\\u0107 lekarza z grafiku. Spowoduje to \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"usuni\\u0119cie jego preferencji oraz przyznanych dy\\u017Cur\\xF3w\"), \". Profil lekarza w ramach oddzia\\u0142u pozostanie niezmieniony i b\\u0119dzie go mo\\u017Cna doda\\u0107 do grafiku ponownie.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Aktualne preferencje i dy\\u017Cury lekarza mog\\u0105 by\\u0107 przywr\\xF3cone jedynie w czasie obecnej sesji\"), \" - po zamkni\\u0119ciu lub od\\u015Bwie\\u017Ceniu strony zostan\\u0105 utracone. Odzyskane dy\\u017Cury b\\u0119d\\u0105 widoczne po cofni\\u0119ciu historii o 1.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \"Czy chcesz kontynuowa\\u0107?\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"alert-buttons\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-warning\",\n      onClick: function onClick() {\n        return _remove(pk);\n      }\n    }, \"Usu\\u0144\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: dismissAlerts\n    }, \"Anuluj\")));\n    showAlert(content, header, variant);\n  };\n  var _remove = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(pk) {\n      var removedDoctor, newDoctors, newInactiveDoctors, month, year, url, generalError, header, variant;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              saveDutiesHistory();\n              appData.monthlyDuties.removeDoctor(pk);\n              appData.unit.removeDoctor(pk);\n\n              // Update preferences.\n              appData.monthlyDuties.updatePreferences();\n              removedDoctor = appData.doctors.find(function (doctor) {\n                return doctor.pk === pk;\n              });\n              newDoctors = appData.doctors.filter(function (doctor) {\n                return !(doctor.pk === pk);\n              });\n              newInactiveDoctors = [].concat(_toConsumableArray(appData.inactiveDoctors), [removedDoctor]);\n              setAppData(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  doctors: newDoctors,\n                  inactiveDoctors: newInactiveDoctors\n                });\n              });\n              setHighlight('');\n              _context4.prev = 9;\n              month = appData.monthlyDuties.month;\n              year = appData.monthlyDuties.year;\n              url = \"/unit/\".concat(appData.unit.pk, \"/duties/\").concat(year, \"/\").concat(month) + \"/settings/\".concat(removedDoctor.getSettingsPk(), \"/\");\n              _context4.next = 15;\n              return _axiosApi__WEBPACK_IMPORTED_MODULE_16__[\"default\"][\"delete\"](url, {\n                pk: removedDoctor.getSettingsPk()\n              });\n            case 15:\n              removedDoctor.setSettingsPk(null);\n              _context4.next = 25;\n              break;\n            case 18:\n              _context4.prev = 18;\n              _context4.t0 = _context4[\"catch\"](9);\n              console.log(_context4.t0);\n              generalError = \"Usunięcia nie zapisano na serwerze. \" + \"Po odświeżeniu strony lekarz nadal będzie aktywny.\";\n              header = 'Błąd przesyłania danych';\n              variant = 'danger';\n              showAlert(generalError, header, variant);\n            case 25:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[9, 18]]);\n    }));\n    return function _remove(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var checkSettings = function checkSettings() {\n    var _appData$monthlyDutie = appData.monthlyDuties.performChecks(),\n      _appData$monthlyDutie2 = _slicedToArray(_appData$monthlyDutie, 2),\n      result = _appData$monthlyDutie2[0],\n      logData = _appData$monthlyDutie2[1];\n    var header = 'Raport z weryfikacji ustawień';\n    log(logData, header);\n    if (!result) {\n      var info = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Sprawdzono ustawienia i \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"wykryto nieprawid\\u0142owo\\u015Bci\"), \", kt\\xF3re mog\\u0105 uniemo\\u017Cliwi\\u0107 u\\u0142o\\u017Cenie grafiku albo spowodowa\\u0107 istotn\\u0105 zmian\\u0119 ustawie\\u0144 lekarzy przez aplikacj\\u0119.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \"Wy\\u015Bwietl \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"log\"), \", aby zobaczy\\u0107 szczeg\\xF3\\u0142owe informacje.\");\n      var _header2 = \"Wykryto błędy!\";\n      var variant = 'warning';\n      showAlert(info, _header2, variant);\n    } else {\n      var _info = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Nie wykryto b\\u0142\\u0119d\\xF3w.\"));\n      showAlert(_info);\n    }\n  };\n  var saveToDisk = function saveToDisk() {\n    var duties = appData.monthlyDuties.getDuties();\n    var dutyPositions = appData.monthlyDuties.dutyPositions;\n    var month = appData.monthlyDuties.getMonth();\n    var year = appData.monthlyDuties.getYear();\n    var data = _toConsumableArray(duties.entries()).map(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        day = _ref6[0],\n        dailyDuties = _ref6[1];\n      return [day.number.toString()].concat(_toConsumableArray(Object.values(dailyDuties).map(function (duty) {\n        var doctor = duty.getDoctor();\n        return \"\".concat(doctor === null ? '-' : doctor.name);\n      })));\n    });\n    data.unshift(['DZIEŃ'].concat(_toConsumableArray(dutyPositions.map(function (p) {\n      return positionNames[p];\n    }))));\n    data.unshift([]);\n    data.unshift(['', \"\".concat(appData.unit.name), \"\".concat(months[month], \" \").concat(year)]);\n    data.unshift([]);\n    data.unshift(['', 'DyzuryMedyczne.pl']);\n    data.unshift([]);\n    var worksheet = xlsx__WEBPACK_IMPORTED_MODULE_19__.utils.aoa_to_sheet(data);\n    worksheet['!cols'] = [{\n      wch: 6\n    }].concat(_toConsumableArray(dutyPositions.map(function (_) {\n      return {\n        wch: 20\n      };\n    })));\n    worksheet['!merges'] = [{\n      s: {\n        c: 1,\n        r: 1\n      },\n      e: {\n        c: 4,\n        r: 1\n      }\n    }];\n    var workbook = xlsx__WEBPACK_IMPORTED_MODULE_19__.utils.book_new();\n    xlsx__WEBPACK_IMPORTED_MODULE_19__.utils.book_append_sheet(workbook, worksheet, 'Dyżury');\n    xlsx__WEBPACK_IMPORTED_MODULE_19__.writeFileXLSX(workbook, \"\".concat(year, \"-\").concat(month, \"_dyzury_\").concat(appData.unit.name, \".xlsx\"));\n  };\n  var saveSchedule = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var month, year, data, url, info, generalError, header, variant;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dismissAlerts();\n              showSpinner(['Zapisywanie...', 'Jeszcze chwilę...']);\n              month = appData.monthlyDuties.month;\n              year = appData.monthlyDuties.year;\n              data = serializeMonthlyDuties();\n              _context5.prev = 5;\n              url = \"/unit/\".concat(appData.unit.pk, \"/duties/\").concat(year, \"/\").concat(month, \"/\");\n              _context5.next = 9;\n              return _axiosApi__WEBPACK_IMPORTED_MODULE_16__[\"default\"].put(url, data);\n            case 9:\n              info = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Dy\\u017Cury oraz preferencje lekarzy zosta\\u0142y zapisane na serwerze.\");\n              showAlert(info);\n              hideSpinner();\n              _context5.next = 22;\n              break;\n            case 14:\n              _context5.prev = 14;\n              _context5.t0 = _context5[\"catch\"](5);\n              console.log(_context5.t0);\n              generalError = \"Nie udało się zapisać danych na serwerze.\";\n              header = 'Błąd przesyłania danych';\n              variant = 'danger';\n              showAlert(generalError, header, variant);\n              hideSpinner();\n            case 22:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[5, 14]]);\n    }));\n    return function saveSchedule() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var clearDuties = function clearDuties() {\n    setPendingDecision({\n      clearDuties: true\n    });\n    var header = \"Usuwanie grafiku\";\n    var variant = 'warning';\n    var removeContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Mo\\u017Cesz usun\\u0105\\u0107 jedynie \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"dy\\u017Cury u\\u0142o\\u017Cone przez program\"), \", albo wszystkie, czyli tak\\u017Ce \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"u\\u0142o\\u017Cone przez u\\u017Cytkownika.\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"alert-buttons\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-warning\",\n      onClick: function onClick() {\n        return _clear();\n      }\n    }, \"Usu\\u0144\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        return _clear(true);\n      }\n    }, \"Usu\\u0144 wszytko\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: dismissAlerts\n    }, \"Anuluj\")));\n    var confirmContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Przycisk \\\"wyczy\\u015B\\u0107\\\" powoduje \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"usuni\\u0119cie z grafiku u\\u0142o\\u017Conych dy\\u017Cur\\xF3w.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \"Czy chcesz kontynuowa\\u0107?\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"alert-buttons\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-warning\",\n      onClick: function onClick() {\n        return showAlert(removeContent, header, variant);\n      }\n    }, \"Kontynuuj\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: dismissAlerts\n    }, \"Anuluj\")));\n    showAlert(confirmContent, header, variant, false);\n  };\n  var _clear = function _clear() {\n    var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    saveDutiesHistory();\n    appData.monthlyDuties.clearDuties(all);\n    appData.monthlyDuties.updatePreferences();\n    refreshState();\n  };\n  var log = function log(data) {\n    var heading = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Log';\n    var showLog = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var transformedData = transformLogData(data);\n    showLog && setStatsData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        hide: true\n      });\n    });\n    setLogData(function (prevState) {\n      return {\n        hide: showLog ? false : prevState.hide,\n        items: transformedData,\n        heading: heading\n      };\n    });\n  };\n  var transformLogData = function transformLogData(logData) {\n    var logItems = [];\n    logData.forEach(function (item, i) {\n      logItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n        key: i + 1\n      }, item));\n    });\n    return logItems;\n  };\n  var toggleLog = function toggleLog() {\n    setStatsData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        hide: true\n      });\n    });\n    setLogData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        hide: !prevState.hide\n      });\n    });\n  };\n  var toggleStatistics = function toggleStatistics() {\n    if (statsData.hide) {\n      updateStatistics();\n    }\n    setLogData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        hide: true\n      });\n    });\n    setStatsData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        hide: !prevState.hide\n      });\n    });\n  };\n  var toggleHighlight = function toggleHighlight(doctor) {\n    if (highlight === doctor) {\n      setHighlight('');\n    } else if (doctor) {\n      setHighlight(doctor);\n    }\n  };\n  var accordionToggleHighlight = function accordionToggleHighlight(e, doctor) {\n    if (e.target.className === 'accordion-button collapsed') {\n      setHighlight(doctor);\n    } else {\n      setHighlight('');\n    }\n  };\n  var showAlert = function showAlert(content) {\n    var header = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Sukces!';\n    var variant = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'success';\n    var clickToClose = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    setAlertData({\n      show: true,\n      variant: variant,\n      header: header,\n      content: content,\n      clickToClose: clickToClose\n    });\n  };\n  var dismissAlerts = function dismissAlerts() {\n    setAlertData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        show: false\n      });\n    });\n    setPendingDecision({});\n  };\n  var refreshState = function refreshState() {\n    setAppData(function (prevState) {\n      return _objectSpread({}, prevState);\n    });\n  };\n  var showSpinner = function showSpinner(messages) {\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    setSpinnerData({\n      show: true,\n      content: content,\n      messages: messages\n    });\n  };\n  var hideSpinner = function hideSpinner() {\n    setSpinnerData({\n      show: false,\n      content: []\n    });\n  };\n  var doctorList = [];\n  var _loop3 = function _loop3(i) {\n    doctorList.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Item, {\n      key: appData.doctors[i].pk,\n      eventKey: appData.doctors[i].pk\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Header, {\n      onClick: function onClick(e) {\n        accordionToggleHighlight(e, appData.doctors[i]);\n      }\n    }, appData.doctors[i].name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DoctorPreferencesForm__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      doctor: appData.doctors[i],\n      year: appData.monthlyDuties.year,\n      month: appData.monthlyDuties.month,\n      updateDoctor: updateDoctor,\n      removeDoctor: removeDoctor,\n      pendingDecision: pendingDecision\n    }))));\n  };\n  for (var i = 0; i < appData.doctors.length; i++) {\n    _loop3(i);\n  }\n  doctorList.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Item, {\n    key: -1,\n    eventKey: 0\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-secondary\"\n  }, \"Dodaj lekarza\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DoctorActivateForm__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    doctors: appData.inactiveDoctors,\n    activateDoctor: activateDoctor\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n    className: \"fs-7\"\n  }, \"Brakuje profilu lekarza?\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null), \"Dodaj go w zak\\u0142adce \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_21__.Link, {\n    to: \"/doctors/\"\n  }, \"lekarze\"), \".\"))));\n  doctorList.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Item, {\n    key: -2,\n    eventKey: -1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-secondary\"\n  }, \"Ustawienia grafiku\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleSettings__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    totalMaxDuties: totalMaxDuties(),\n    totalDuties: totalDuties(),\n    normalize: normalizeMaxDuties\n  }))));\n  var leftCol = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Accordion__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n    defaultActiveKey: ['0'],\n    flush: true\n  }, doctorList);\n  var rightCol = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Schedule__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    appData: appData,\n    highlight: highlight,\n    toggleHighlight: toggleHighlight,\n    setDoctorOnDuty: setDoctorOnDuty\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DutyStatistics__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    hide: statsData.hide,\n    toggle: toggleStatistics,\n    statistics: statsData.data\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Log__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    hide: logData.hide,\n    toggle: toggleLog,\n    log: logData\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n    className: \"duty-menu border-top\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_23__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"primary\",\n    onClick: setDuties\n  }, \"U\\u0142\\xF3\\u017C grafik\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"light\",\n    tooltip: \"Sprawdza, czy preferencje lekarzy pozwalaj\\u0105 u\\u0142o\\u017Cy\\u0107 grafik\",\n    onClick: checkSettings\n  }, \"Sprawd\\u017A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: logData.hide ? \"light\" : \"secondary\",\n    onClick: toggleLog\n  }, logData.hide ? 'Pokaż' : 'Ukryj', \" log\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: statsData.hide ? \"light\" : \"secondary\",\n    onClick: toggleStatistics\n  }, statsData.hide ? 'Pokaż' : 'Ukryj', \" statystyki\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"light\",\n    tooltip: \"Usuwa dy\\u017Cury z grafiku\",\n    onClick: clearDuties,\n    disabled: pendingDecision.clearDuties\n  }, pendingDecision.clearDuties ? \"Potwierdź...\" : \"Wyczyść\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"light\",\n    tooltip: \"Cofnij zmian\\u0119 w grafiku\",\n    onClick: historyMoveBack,\n    disabled: dutiesHistory.position < 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"bi bi-skip-backward-fill\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"light\",\n    tooltip: \"Pon\\xF3w zmian\\u0119 w grafiku\",\n    onClick: historyMoveForward,\n    disabled: dutiesHistory.position >= dutiesHistory.history.length - 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"bi bi-skip-forward-fill\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"light\",\n    tooltip: \"Zapisuje grafik do Excela (.xlsx)\",\n    onClick: saveToDisk\n  }, \"Pobierz\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ScheduleMenuButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"border\",\n    variant: \"success\",\n    tooltip: \"Zapisuje widoczny na ekranie grafik na serwerze. Nie zapisuje historii.\",\n    onClick: saveSchedule\n  }, \"Zapisz\"))));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    leftCol: leftCol,\n    rightCol: rightCol,\n    logoPrimary: appData.unit.name,\n    logoSecondary: \"\".concat(months[appData.monthlyDuties.month], \" \").concat(appData.monthlyDuties.year),\n    alwaysShowLeftCol: true\n  }), alertData.show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Alert__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    variant: alertData.variant,\n    header: alertData.header,\n    dismiss: dismissAlerts,\n    clickToClose: alertData.clickToClose\n  }, alertData.content), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_OverlaySpinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    show: spinnerData.show,\n    messages: spinnerData.messages,\n    content: spinnerData.content\n  }));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DutySetter.js?");

/***/ }),

/***/ 11310:
/*!***********************************************!*\
  !*** ./frontend/components/DutyStatistics.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DutyStatistics)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Offcanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Offcanvas */ 7214);\n/* harmony import */ var _StatisticsTable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StatisticsTable */ 95830);\n\n\n\nfunction DutyStatistics(props) {\n  var statistics = props.statistics;\n  var hide = props.hide;\n  var toggle = props.toggle;\n  var keys = new Map([['name', ''], ['duties', 'Dyżury'], ['holidays', 'Święta'], ['weekends', 'Weekendy'], ['weekendDays', 'Pią-Nie'], ['0', 'Pon'], ['1', 'Wto'], ['2', 'Śro'], ['3', 'Czw'], ['4', 'Pią'], ['5', 'Sob'], ['6', 'Nie'], ['strain', 'Obciążenie']]);\n  var heading = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h5\", null, \"Statystyki\");\n  var content = statistics ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_StatisticsTable__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    statistics: statistics,\n    keys: keys\n  }) : 'Statystyki';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Offcanvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    heading: heading,\n    content: content,\n    hide: hide,\n    toggle: toggle\n  });\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DutyStatistics.js?");

/***/ }),

/***/ 61879:
/*!*****************************************!*\
  !*** ./frontend/components/DutyTile.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DutyTile)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Col */ 31555);\n/* harmony import */ var react_bootstrap_Dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap/Dropdown */ 70595);\n/* harmony import */ var _WithTooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WithTooltip */ 75182);\n\n\n\n\nfunction DutyTile(props) {\n  var setDoctorOnDuty = props.setDoctorOnDuty;\n  var highlight = props.highlight;\n  var toggleHighlight = props.toggleHighlight;\n  var doctors = props.doctors;\n  var duty = props.duty;\n  var date = duty.getDay().number;\n  var doctor = duty.getDoctor();\n  var position = duty.getPosition();\n  var mobile = window.matchMedia(\"(max-width: 768px)\").matches;\n  var customToggle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef(function (_ref, ref) {\n    var children = _ref.children,\n      _onClick = _ref.onClick;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"duty-tile-control control\",\n      ref: ref,\n      onClick: function onClick(e) {\n        e.preventDefault();\n        _onClick(e);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"bi bi-person-fill-add\"\n    }));\n  });\n  var customMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef(function (_ref2, ref) {\n    var children = _ref2.children,\n      style = _ref2.style,\n      className = _ref2.className,\n      labeledBy = _ref2['aria-labelledby'];\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      ref: ref,\n      style: style,\n      className: className,\n      \"aria-labelledby\": labeledBy\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", {\n      className: \"list-unstyled\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default().Children.toArray(children.filter(function (ch, i) {\n      return i % 2 === 0;\n    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", {\n      className: \"list-unstyled\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default().Children.toArray(children.filter(function (ch, i) {\n      return i % 2 === 1;\n    }))))))));\n  });\n  var options = [];\n  if (doctors) {\n    doctors.filter(function (d) {\n      return d.getNumberOfDutiesLeft() > 0;\n    }).forEach(function (currentDoctor, i) {\n      var unsafe = false;\n      if (currentDoctor !== doctor) {\n        var dutyDates = currentDoctor.getDuties().map(function (d) {\n          return d.getDay().number;\n        });\n        unsafe = [date - 1, date, date + 1].some(function (d) {\n          return dutyDates.includes(d);\n        });\n        options.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Dropdown__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Item, {\n          key: \"\".concat(date, \"-\").concat(position, \"-\").concat(i),\n          eventKey: i,\n          onClick: function onClick() {\n            return setDoctorOnDuty(duty, currentDoctor);\n          }\n        }, unsafe && '(zam.)', \" \", currentDoctor.name));\n      }\n    });\n  }\n  var doctorDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"duty-tile-off-duty\"\n  });\n  if (doctor) {\n    doctorDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"duty-tile-on-duty\",\n      onClick: function onClick() {\n        return toggleHighlight(doctor);\n      }\n    }, doctor.name);\n  }\n  var colClasses = \"border-2 border-light text-light duty-tile \";\n  if (highlight === doctor) {\n    colClasses += \"highlight \";\n  } else if (highlight && !doctors.includes(highlight)) {\n    colClasses += \"outside-preferences \";\n  } else {\n    colClasses += \"normal-\".concat(position, \" \");\n  }\n  if (!mobile) {\n    colClasses += \"border-start \";\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    md: true,\n    className: colClasses\n  }, doctorDiv, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"duty-tile-controls\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Dropdown__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    align: mobile ? \"end\" : \"start\",\n    drop: mobile ? \"down\" : \"end\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Dropdown__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Toggle, {\n    as: customToggle\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Dropdown__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Menu, {\n    as: customMenu,\n    className: \"duty-tile-dropdown\"\n  }, options)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"duty-tile-control control ms-1\",\n    onClick: function onClick() {\n      return setDoctorOnDuty(duty, null);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"bi bi-x-lg fs-6\"\n  }))));\n}\n\n//✕\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DutyTile.js?");

/***/ }),

/***/ 19010:
/*!*************************************************!*\
  !*** ./frontend/components/DutyTileInactive.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DutyTileInactive)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap/Col */ 31555);\n\n\nfunction DutyTileInactive(props) {\n  var highlight = props.highlight;\n  var toggleHighlight = props.toggleHighlight;\n  var duty = props.duty;\n  var doctor = duty.getDoctor();\n  var position = duty.getPosition();\n  var doctorDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"duty-tile-off-duty\"\n  });\n  if (doctor) {\n    doctorDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"duty-tile-on-duty\",\n      onClick: function onClick() {\n        return toggleHighlight(doctor);\n      }\n    }, doctor.name);\n  }\n  var colClasses = \"border-2 border-light text-light duty-tile \";\n  if (highlight === doctor) {\n    colClasses += \"inactive highlight \";\n  } else {\n    colClasses += \"inactive-\".concat(position, \" \");\n  }\n  var mobile = window.matchMedia(\"(max-width: 768px)\").matches;\n  if (!mobile) {\n    colClasses += \"border-start \";\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    md: true,\n    className: colClasses\n  }, doctorDiv);\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/DutyTileInactive.js?");

/***/ }),

/***/ 84135:
/*!************************************!*\
  !*** ./frontend/components/Log.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Log)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Offcanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Offcanvas */ 7214);\n\n\nfunction Log(props) {\n  var log = props.log;\n  var hide = props.hide;\n  var toggle = props.toggle;\n  var heading = log ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h5\", null, log.heading) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h5\", null, \"Log\");\n  var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"log-content border\"\n  }, log.items ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", null, log.items) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null, \"Tu pojawi\\u0105 si\\u0119 informacje o b\\u0142\\u0119dach lub zmianach w ustawieniach lekarzy wprowdzonych przez algorytm.\")));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Offcanvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    heading: heading,\n    content: content,\n    hide: hide,\n    toggle: toggle\n  });\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/Log.js?");

/***/ }),

/***/ 7214:
/*!******************************************!*\
  !*** ./frontend/components/Offcanvas.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Offcanvas)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap/Row */ 34051);\n/* harmony import */ var react_bootstrap_CloseButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap/CloseButton */ 41485);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nfunction Offcanvas(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    shrink = _useState2[0],\n    setShrink = _useState2[1];\n  var heading = props.heading;\n  var content = props.content;\n  var hide = props.hide;\n  var toggle = props.toggle;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    className: \"my-offcanvas border-top g-0\" + (hide ? \" hide\" : \"\") + (shrink ? \"\" : \" expand\")\n  }, heading, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"my-offcanvas-control mt-3 mx-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"my-offcanvas-resize-control\",\n    onClick: function onClick() {\n      return setShrink(!shrink);\n    }\n  }, shrink ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"bi bi-chevron-double-up\"\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"bi bi-chevron-double-down\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_CloseButton__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    onClick: toggle\n  })), content);\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/Offcanvas.js?");

/***/ }),

/***/ 3213:
/*!*****************************************!*\
  !*** ./frontend/components/Schedule.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Schedule)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap/Row */ 34051);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-bootstrap/Col */ 31555);\n/* harmony import */ var _DutyTile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DutyTile */ 61879);\n/* harmony import */ var _DutyTileInactive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DutyTileInactive */ 19010);\n/* harmony import */ var _algorithm_Day__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./algorithm/Day */ 97794);\n/* harmony import */ var _algorithm_Duty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./algorithm/Duty */ 18417);\n\n\n\n\n\n\n\nvar months = {\n  1: 'Styczeń',\n  2: 'Luty',\n  3: 'Marzec',\n  4: 'Kwiecień',\n  5: 'Maj',\n  6: 'Czerwiec',\n  7: 'Lipiec',\n  8: 'Sierpień',\n  9: 'Wrzesień',\n  10: 'Październik',\n  11: 'Listopad',\n  12: 'Grudzień'\n};\nfunction Schedule(props) {\n  var appData = props.appData;\n  var setDoctorOnDuty = props.setDoctorOnDuty;\n  var highlight = props.highlight;\n  var toggleHighlight = props.toggleHighlight;\n  var mobile = window.matchMedia(\"(max-width: 768px)\").matches;\n  var dayTiles = [];\n  if (appData.monthlyDuties.year) {\n    (function () {\n      var weekdays = ['Pon.', 'Wto.', 'Śro.', 'Czw.', 'Pią.', 'Sob.', 'Nie.'];\n      var monthlyDuties = appData.monthlyDuties;\n      var month = parseInt(monthlyDuties.getMonth());\n      var year = parseInt(monthlyDuties.getYear());\n      var positions = appData.unit.dutyPositions;\n      var preferences = appData.monthlyDuties.getPreferences();\n\n      // Add current month's rows.\n      var _loop = function _loop(i) {\n        // Create position tiles.\n        var rowContent = [];\n        positions.forEach(function (position) {\n          var duty = monthlyDuties.getDuty(i, position);\n          rowContent.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DutyTile__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n            key: \"\".concat(i, \"-\").concat(position),\n            setDoctorOnDuty: setDoctorOnDuty,\n            highlight: highlight,\n            toggleHighlight: toggleHighlight,\n            duty: duty,\n            doctors: preferences[i][position]\n          }));\n        });\n        // Create day number.\n        var day = monthlyDuties.getDay(i);\n        var dayClass = \"weekday\";\n        if (day.weekday === 5 || day.weekday === 6) {\n          if (day.category === 'holiday') {\n            dayClass = \"weekend-holiday\";\n          } else {\n            dayClass = \"weekend\";\n          }\n        } else if (day.category === 'holiday') {\n          dayClass = 'weekday-holiday';\n        }\n        rowContent.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          md: 1,\n          key: \"\".concat(i, \"-0\"),\n          className: \"border-2 border-light duty-calendar-tile \" + dayClass + (mobile ? \"\" : \" border-end\")\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n          className: \"duty-calendar-tile-day\"\n        }, i), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n          className: \"duty-calendar-tile-weekday\"\n        }, weekdays[day.weekday])));\n        // Push row to tiles array.\n        dayTiles.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          key: i,\n          className: \"border border-bottom-0 border-5 border-light mx-0\"\n        }, rowContent));\n      };\n      for (var i = 1; i < monthlyDuties.getDays().length + 1; i++) {\n        _loop(i);\n      }\n\n      // Push current month's name.\n      dayTiles.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        key: '1000',\n        className: \"border border-bottom-0 border-5 border-light mx-0\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        className: \"duty-tile-month\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\".concat(months[month], \" \").concat(year)))));\n\n      // Create prev and next month's inactive tiles.\n      var createRow = function createRow(currYear, currMonth, currDay, duties) {\n        // Create position tiles.\n        var rowContent = [];\n        positions.forEach(function (position) {\n          // Get duty.\n          var duty = duties.find(function (duty) {\n            return duty.day.number === currDay && duty.position === position;\n          });\n          // Create duty if there was none (eg. number of positions has changed).\n          if (!duty) {\n            var _day = new _algorithm_Day__WEBPACK_IMPORTED_MODULE_3__[\"default\"](currYear, currMonth, currDay);\n            duty = new _algorithm_Duty__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_day, null, position, _day.strainPoints, null, false);\n          }\n          // Create tile.\n          rowContent.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DutyTileInactive__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            key: \"prev-\".concat(currDay, \"-\").concat(position),\n            highlight: highlight,\n            toggleHighlight: toggleHighlight,\n            duty: duty\n          }));\n        });\n        // Create day number.\n        var day = new _algorithm_Day__WEBPACK_IMPORTED_MODULE_3__[\"default\"](currYear, currMonth, currDay);\n        var dayClass = \"weekday\";\n        if (day.weekday === 5 || day.weekday === 6) {\n          if (day.category === 'holiday') {\n            dayClass = \"weekend-holiday\";\n          } else {\n            dayClass = \"weekend\";\n          }\n        } else if (day.category === 'holiday') {\n          dayClass = 'weekday-holiday';\n        }\n        rowContent.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          md: 1,\n          key: \"\".concat(currMonth, \"-\").concat(day.number, \"-0\"),\n          className: \"border-2 border-light duty-calendar-tile inactive \" + dayClass + (mobile ? \"\" : \" border-end\")\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n          className: \"duty-calendar-tile-day\"\n        }, currDay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n          className: \"duty-calendar-tile-weekday\"\n        }, weekdays[day.weekday])));\n        return rowContent;\n      };\n\n      // Add previous month's duties.\n      var prevDuties = monthlyDuties.getPrevMonthDuties();\n      var prevYear = month === 1 ? year - 1 : year;\n      var prevMonth = month === 1 ? 12 : month - 1;\n      var prevMonthLen = new Date(prevYear, prevMonth, 0).getDate();\n      for (var _i = prevMonthLen; _i > prevMonthLen - 7; _i--) {\n        var rowContent = createRow(prevYear, prevMonth, _i, prevDuties);\n        dayTiles.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          key: \"prev-\".concat(_i),\n          className: \"border border-bottom-0 border-5 border-light mx-0\"\n        }, rowContent));\n      }\n\n      // Add next month's duties\n      var nextDuties = monthlyDuties.getNextMonthDuties();\n      var nextYear = month === 12 ? year + 1 : year;\n      var nextMonth = month === 12 ? 1 : month + 1;\n\n      // Push next month's name.\n      dayTiles.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        key: '3000',\n        className: \"border border-bottom-0 border-5 border-light mx-0\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        className: \"duty-tile-month inactive\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\".concat(months[nextMonth], \" \").concat(nextYear)))));\n      for (var _i2 = 1; _i2 < 8; _i2++) {\n        var _rowContent = createRow(nextYear, nextMonth, _i2, nextDuties);\n        dayTiles.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          key: \"prev-\".concat(_i2),\n          className: \"border border-bottom-0 border-5 border-light mx-0\"\n        }, _rowContent));\n      }\n    })();\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    className: \"duty-view bg-light g-0\",\n    id: \"schedule\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    style: mobile ? {\n      height: \"var(--schedule-duty-view-height)\"\n    } : {}\n  }, dayTiles));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/Schedule.js?");

/***/ }),

/***/ 41010:
/*!***************************************************!*\
  !*** ./frontend/components/ScheduleMenuButton.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScheduleMenuButton)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _WithTooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WithTooltip */ 75182);\n\n\nfunction ScheduleMenuButton(props) {\n  var classes = props.className || \"\";\n  var variant = props.variant || \"primary\";\n  var tooltip = props.tooltip || \"\";\n  var onclick = props.onClick || function () {};\n  var label = props.children;\n  var disabled = Boolean(props.disabled);\n  var mobile = window.matchMedia(\"(max-width: 768px)\").matches;\n  var button = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"btn btn-\" + variant + \" \" + classes,\n    onClick: onclick,\n    disabled: disabled\n  }, label);\n  if (mobile) {\n    var textColor = \"text-dark\";\n    if ([\"primary\", \"secondary\", \"success\", \"danger\"].includes(variant)) {\n      textColor = \"text-light\";\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      onClick: onclick,\n      className: \"link bg-\" + variant + \" \" + textColor + \" \" + classes,\n      style: {\n        minWidth: \"50px\",\n        textAlign: \"center\"\n      }\n    }, label);\n  } else if (tooltip) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      message: tooltip\n    }, button);\n  } else {\n    return button;\n  }\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/ScheduleMenuButton.js?");

/***/ }),

/***/ 74327:
/*!*************************************************!*\
  !*** ./frontend/components/ScheduleSettings.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScheduleSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _WithTooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WithTooltip */ 75182);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nfunction ScheduleSettings(props) {\n  var totalMaxDuties = props.totalMaxDuties;\n  var totalDuties = props.totalDuties;\n  var normalize = props.normalize;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    message = _useState2[0],\n    setMessage = _useState2[1];\n  var handleNormalize = function handleNormalize() {\n    var _normalize = normalize(),\n      _normalize2 = _slicedToArray(_normalize, 2),\n      success = _normalize2[0],\n      message = _normalize2[1];\n    if (success) {\n      setMessage('Zrobione.');\n    } else {\n      setMessage(message);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h6\", null, \"Maksymalna liczba dy\\u017Cur\\xF3w\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    message: \"Lekarze otrzymaj\\u0105 dok\\u0142adnie tyle dy\\u017Cur\\xF3w ile zadeklarowali, o ile odpowiada to r\\xF3wno liczbie dy\\u017Cur\\xF3w w miesi\\u0105cu. W przeciwnym razie niekt\\xF3rzy mog\\u0105 otrzyma\\u0107 mniej dy\\u017Cur\\xF3w.\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"mb-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u0141\\u0105cznie \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, totalMaxDuties ? totalMaxDuties : '-', \" / \", totalDuties ? totalDuties : '-'), \" do obsadzenia.\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WithTooltip__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    message: \"Program proporcjonalnie zmieni maksymaln\\u0105 liczb\\u0119 dy\\u017Cur\\xF3w wszystkich lekarzy, aby suma odpowiada\\u0142a liczbie dy\\u017Cur\\xF3w w miesi\\u0105cu.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: handleNormalize\n  }, \"Dopasuj\")), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"fs-7\"\n  }, message));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/ScheduleSettings.js?");

/***/ }),

/***/ 95830:
/*!************************************************!*\
  !*** ./frontend/components/StatisticsTable.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StatisticsTable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 67294);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _algorithm_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithm/utils */ 59920);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nfunction StatisticsTable(props) {\n  var statistics = props.statistics;\n  var keys = props.keys;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    rows = _useState2[0],\n    setRows = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    sortBy = _useState4[0],\n    setSortBy = _useState4[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (statistics) {\n      var tableRows = statistics.map(function (item, i) {\n        var row = [];\n        _toConsumableArray(keys.keys()).forEach(function (key, j) {\n          var elem;\n          if (key === 'name') {\n            elem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n              key: \"\".concat(i, \"-\").concat(j),\n              scope: \"row\",\n              data: key\n            }, item[key]);\n          } else {\n            elem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n              key: \"\".concat(i, \"-\").concat(j),\n              data: key\n            }, item[key]);\n          }\n          row.push(elem);\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n          key: i\n        }, row);\n      });\n      setRows(tableRows);\n      setSortBy(null);\n    }\n  }, [props.statistics]);\n  var sort = function sort(value) {\n    var key = (0,_algorithm_utils__WEBPACK_IMPORTED_MODULE_1__.getKeyByValue)(keys, value);\n    // Reverse order.\n    if (sortBy === value) {\n      var newRows = _toConsumableArray(rows).reverse();\n      setRows(newRows);\n      // Sort in ascending order.\n    } else {\n      var byKey = function byKey(objA, objB) {\n        var valueA = objA.props.children.find(function (elem) {\n          return elem.props.data === key;\n        }).props.children;\n        var valueB = objB.props.children.find(function (elem) {\n          return elem.props.data === key;\n        }).props.children;\n        return valueA - valueB;\n      };\n      var _newRows = _toConsumableArray(rows).sort(byKey);\n      setRows(_newRows);\n      setSortBy(value);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"statistics-content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", {\n    className: \"stat-table table table-hover table-borderless table-sm\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, _toConsumableArray(keys.values()).map(function (value, i) {\n    if (!value) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n        scope: \"col\",\n        key: i\n      }, value);\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n        scope: \"col\",\n        key: i,\n        onClick: function onClick() {\n          return sort(value);\n        }\n      }, value, sortBy && sortBy === value && '↕');\n    }\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, rows)));\n}\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/StatisticsTable.js?");

/***/ }),

/***/ 97794:
/*!**********************************************!*\
  !*** ./frontend/components/algorithm/Day.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ 59920);\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar holidays = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getHolidays)();\nvar weekday = 80;\nvar thursday = 70;\nvar friday = 90;\nvar saturday = 110;\nvar sunday = 100;\nvar holiday = 140;\nvar Day = /*#__PURE__*/_createClass(function Day(year, month, day) {\n  _classCallCheck(this, Day);\n  _defineProperty(this, \"year\", void 0);\n  _defineProperty(this, \"month\", void 0);\n  _defineProperty(this, \"number\", void 0);\n  _defineProperty(this, \"week\", void 0);\n  _defineProperty(this, \"weekday\", void 0);\n  _defineProperty(this, \"itIsHoliday\", void 0);\n  _defineProperty(this, \"strainPoints\", void 0);\n  _defineProperty(this, \"category\", void 0);\n  this.weekday = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getWeekday)(year, month, day);\n  this.itIsHoliday = holidays[year][month].includes(day) ? true : false;\n  if (this.itIsHoliday) {\n    this.strainPoints = holiday;\n    this.category = 'holiday';\n  } else if (this.weekday < 3) {\n    this.strainPoints = weekday;\n    this.category = 'weekday';\n  } else if (this.weekday === 3) {\n    this.strainPoints = thursday;\n    this.category = 'thursday';\n  } else if (this.weekday === 4) {\n    this.strainPoints = friday;\n    this.category = 'weekend';\n  } else if (this.weekday === 5) {\n    this.strainPoints = saturday;\n    this.category = 'weekend';\n  } else if (this.weekday === 6) {\n    this.strainPoints = sunday;\n    this.category = 'weekend';\n  }\n  this.year = year;\n  this.month = month;\n  this.number = day;\n  this.week = Math.ceil(Math.ceil(this.number + (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getWeekday)(year, month, 1)) / 7);\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Day);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/Day.js?");

/***/ }),

/***/ 77333:
/*!*************************************************!*\
  !*** ./frontend/components/algorithm/Doctor.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"modifiers\": () => (/* binding */ modifiers)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ 59920);\n/* harmony import */ var _EvaluationChart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EvaluationChart */ 33281);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\n\nvar MAX_NUMBER_OF_DUTIES_PER_MONTH = function MAX_NUMBER_OF_DUTIES_PER_MONTH(month, year) {\n  return Math.floor(new Date(year, month, 0).getDate() / 2);\n};\nvar MODIFIER_DUTY_IMPOSSIBLE = 10000;\nvar MODIFIER_TWO_DAYS_APART = 30;\nvar MODIFIER_THREE_DAYS_APART = 20;\nvar MODIFIER_FOUR_DAYS_APART = 10;\nvar MODIFIER_FRI_SUN = -60;\nvar MODIFIER_THU_SAT = 30;\nvar MODIFIER_MORE_THAN_TWO_WEEKENDS = 100;\nvar MODIFIER_LESS_THAN_TWO_WEEKENDS = 50;\nvar MODIFIER_DONT_STEAL_SUNDAYS = 100;\nvar MODIFIER_THURSDAY_IS_ORDINARY = 10;\nvar MODIFIER_SATURDAY_IF_ONE_WEEKEND = -30;\nvar MODIFIER_NEW_WEEKEND = 200;\nvar MODIFIER_EACH_WEEKEND = 40;\nvar MODIFIER_DUTY_LEFT = -10;\nvar modifiers = {\n  DUTY_IMPOSSIBLE: MODIFIER_DUTY_IMPOSSIBLE,\n  TWO_DAYS_APART: MODIFIER_TWO_DAYS_APART,\n  THREE_DAYS_APART: MODIFIER_THREE_DAYS_APART,\n  FOUR_DAYS_APART: MODIFIER_FOUR_DAYS_APART,\n  FRI_SUN: MODIFIER_FRI_SUN,\n  THU_SAT: MODIFIER_THU_SAT,\n  MORE_THAN_TWO_WEEKENDS: MODIFIER_MORE_THAN_TWO_WEEKENDS,\n  LESS_THAN_TWO_WEEKENDS: MODIFIER_LESS_THAN_TWO_WEEKENDS,\n  DONT_STEAL_SUNDAYS: MODIFIER_DONT_STEAL_SUNDAYS,\n  THURSDAY_IS_ORDINARY: MODIFIER_THURSDAY_IS_ORDINARY,\n  SATURDAY_IF_ONE_WEEKEND: MODIFIER_SATURDAY_IF_ONE_WEEKEND,\n  NEW_WEEKEND: MODIFIER_NEW_WEEKEND\n};\nvar _maxNumberOfDutiesInit = /*#__PURE__*/new WeakMap();\nvar _exceptionsInit = /*#__PURE__*/new WeakMap();\nvar _preferredDaysInit = /*#__PURE__*/new WeakMap();\nvar _preferredWeekdaysInit = /*#__PURE__*/new WeakMap();\nvar _preferredPositionsInit = /*#__PURE__*/new WeakMap();\nvar _year = /*#__PURE__*/new WeakMap();\nvar _month = /*#__PURE__*/new WeakMap();\nvar _updateMaxNumberOfDuties = /*#__PURE__*/new WeakSet();\nvar Doctor = /*#__PURE__*/function () {\n  function Doctor(name, unit, year, month) {\n    var pk = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    _classCallCheck(this, Doctor);\n    _classPrivateMethodInitSpec(this, _updateMaxNumberOfDuties);\n    _defineProperty(this, \"pk\", void 0);\n    _defineProperty(this, \"settingsPk\", void 0);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"unit\", void 0);\n    _defineProperty(this, \"duties\", void 0);\n    _defineProperty(this, \"strain\", void 0);\n    _defineProperty(this, \"maxNumberOfDuties\", void 0);\n    _defineProperty(this, \"exceptions\", void 0);\n    _defineProperty(this, \"preferredDays\", void 0);\n    _defineProperty(this, \"preferredWeekdays\", void 0);\n    _defineProperty(this, \"preferredPositions\", void 0);\n    _defineProperty(this, \"locked\", void 0);\n    _defineProperty(this, \"prevMonthDuties\", void 0);\n    _defineProperty(this, \"nextMonthDuties\", void 0);\n    _classPrivateFieldInitSpec(this, _maxNumberOfDutiesInit, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _exceptionsInit, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _preferredDaysInit, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _preferredWeekdaysInit, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _preferredPositionsInit, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _year, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _month, {\n      writable: true,\n      value: void 0\n    });\n    // Public properties.\n    this.pk = pk;\n    this.settingsPk = null;\n    this.name = name;\n    this.unit = unit;\n    this.duties = [];\n    this.strain = 0;\n    this.maxNumberOfDuties = MAX_NUMBER_OF_DUTIES_PER_MONTH(month, year);\n    this.exceptions = [];\n    this.preferredDays = [];\n    this.preferredWeekdays = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(7);\n    this.preferredPositions = unit.dutyPositions;\n    this.locked = false;\n    this.prevMonthDuties = [];\n    this.nextMonthDuties = [];\n\n    // Private properties.\n    // Initial properties - set be user, not affected by changes\n    // made by schedule class algorithm during execution.\n    _classPrivateFieldSet(this, _maxNumberOfDutiesInit, MAX_NUMBER_OF_DUTIES_PER_MONTH);\n    _classPrivateFieldSet(this, _exceptionsInit, []);\n    _classPrivateFieldSet(this, _preferredDaysInit, []);\n    _classPrivateFieldSet(this, _preferredWeekdaysInit, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(7));\n    _classPrivateFieldSet(this, _preferredPositionsInit, unit.dutyPositions);\n    _classPrivateFieldSet(this, _year, year);\n    _classPrivateFieldSet(this, _month, month);\n\n    // Methods.\n    this.setPk = this.setPk.bind(this);\n    this.getPk = this.getPk.bind(this);\n    this.setSettingsPk = this.setSettingsPk.bind(this);\n    this.getSettingsPk = this.getSettingsPk.bind(this);\n    this.getName = this.getName.bind(this);\n    this.addPrevMonthDuty = this.addPrevMonthDuty.bind(this);\n    this.addNextMonthDuty = this.addNextMonthDuty.bind(this);\n    this.evaluateDuties = this.evaluateDuties.bind(this);\n    this.setDuty = this.setDuty.bind(this);\n    this.removeDuty = this.removeDuty.bind(this);\n    this.getDuties = this.getDuties.bind(this);\n    this.getNumberOfDuties = this.getNumberOfDuties.bind(this);\n    this.getWeekendsOnDuty = this.getWeekendsOnDuty.bind(this);\n    this.getNumberOfDutiesOnWeekends = this.getNumberOfDutiesOnWeekends.bind(this);\n    this.setMaxNumberOfDuties = this.setMaxNumberOfDuties.bind(this);\n    this.getMaxNumberOfDuties = this.getMaxNumberOfDuties.bind(this);\n    this.getNumberOfDutiesLeft = this.getNumberOfDutiesLeft.bind(this);\n    this.setStrain = this.setStrain.bind(this);\n    this.getStrain = this.getStrain.bind(this);\n    this.clearDuties = this.clearDuties.bind(this);\n    this.clearStrain = this.clearStrain.bind(this);\n    this.setExceptions = this.setExceptions.bind(this);\n    this.getExceptions = this.getExceptions.bind(this);\n    this.setPreferredDays = this.setPreferredDays.bind(this);\n    this.getPreferredDays = this.getPreferredDays.bind(this);\n    this.setPreferredWeekdays = this.setPreferredWeekdays.bind(this);\n    this.getPreferredWeekdays = this.getPreferredWeekdays.bind(this);\n    this.setPreferredPositions = this.setPreferredPositions.bind(this);\n    this.getPreferredPositions = this.getPreferredPositions.bind(this);\n    this.lockPreferences = this.lockPreferences.bind(this);\n    this.isLocked = this.isLocked.bind(this);\n    this.restoreInit = this.restoreInit.bind(this);\n    this.restoreMaxDuties = this.restoreMaxDuties.bind(this);\n    this.restoreExceptions = this.restoreExceptions.bind(this);\n    this.restorePreferredDays = this.restorePreferredDays.bind(this);\n    this.restorePreferredPositions = this.restorePreferredPositions.bind(this);\n    this.restorePreferredWeekdays = this.restorePreferredWeekdays.bind(this);\n    this.getStatistics = this.getStatistics.bind(this);\n    this._getPreviousMonthModfiers = this._getPreviousMonthModfiers.bind(this);\n    this._getNextMonthModfiers = this._getNextMonthModfiers.bind(this);\n  }\n  _createClass(Doctor, [{\n    key: \"setPk\",\n    value: function setPk(pk) {\n      this.pk = pk;\n    }\n  }, {\n    key: \"getPk\",\n    value: function getPk() {\n      return this.pk;\n    }\n  }, {\n    key: \"setSettingsPk\",\n    value: function setSettingsPk(pk) {\n      this.settingsPk = pk;\n    }\n  }, {\n    key: \"getSettingsPk\",\n    value: function getSettingsPk() {\n      return this.settingsPk;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return this.name;\n    }\n  }, {\n    key: \"addPrevMonthDuty\",\n    value: function addPrevMonthDuty(duty) {\n      this.prevMonthDuties.push(duty);\n    }\n  }, {\n    key: \"addNextMonthDuty\",\n    value: function addNextMonthDuty(duty) {\n      this.nextMonthDuties.push(duty);\n    }\n  }, {\n    key: \"evaluateDuties\",\n    value: function evaluateDuties(duties, position) {\n      var _this = this;\n      var maxDutiesFactor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.getMaxNumberOfDuties();\n      var maxDuties = this.getMaxNumberOfDuties();\n      var numberOfDuties = this.getNumberOfDuties(duties);\n      var dutiesLeft = maxDuties - numberOfDuties;\n      if (dutiesLeft <= 0) {\n        return null;\n      }\n      var days = _toConsumableArray(duties.keys());\n      var evaluationChart = new _EvaluationChart__WEBPACK_IMPORTED_MODULE_1__[\"default\"](days, this);\n      this._getPreviousMonthModfiers(evaluationChart);\n      this._getNextMonthModfiers(evaluationChart);\n      var whoIsOnDuty = function whoIsOnDuty(dayNumber) {\n        var day = days.find(function (d) {\n          return d.number === dayNumber;\n        });\n        var result = {};\n        if (day) {\n          Object.entries(duties.get(day)).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              position = _ref2[0],\n              duty = _ref2[1];\n            result[position] = duty.getDoctor();\n          });\n        } else {\n          Object.entries(duties.get(days[0])).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n              position = _ref4[0],\n              duty = _ref4[1];\n            result[position] = null;\n          });\n        }\n        return result;\n      };\n\n      // Conditions that will not change during looping.\n      var iDontTakeDutiesOnWeekends = !(5 in this.preferredWeekdays || 6 in this.preferredWeekdays);\n      var weekendsIHaveDutiesOn = this.getWeekendsOnDuty(duties);\n      var iDontHaveDutyOnThisWeekend = function iDontHaveDutyOnThisWeekend(day) {\n        return new Set([].concat(_toConsumableArray(weekendsIHaveDutiesOn), [day.week])).size > weekendsIHaveDutiesOn.length;\n      };\n      var dutiesLeftModifier = numberOfDuties ? (dutiesLeft - maxDutiesFactor) * MODIFIER_DUTY_LEFT : 20 * MODIFIER_DUTY_LEFT;\n      var _iterator = _createForOfIteratorHelper(days),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var day = _step.value;\n          var today = day.number;\n          var itIsFriday = day.weekday === 4;\n          var itIsThursday = day.weekday === 3;\n          var itIsSunday = day.weekday === 6;\n          var itIsWeekend = [4, 5, 6].includes(day.weekday);\n          var dutyImpossible = evaluationChart.getDayStrain(today) >= 10000;\n          var iMadeExceptionForToday = this.getExceptions().includes(today);\n          var iDontTakeDutiesOnThisWeekday = !this.getPreferredWeekdays().includes(day.weekday);\n          var iDontTakeDutiesOnThisPosition = !this.getPreferredPositions().includes(position);\n          var dutyOnThisPositionTaken = Boolean(duties.get(day)[position].getDoctor()) === true;\n          var iAmOnDutyOnAnyPosition = Object.values(whoIsOnDuty(today)).some(function (entry) {\n            if (entry) {\n              return entry.pk === _this.pk;\n            }\n            return false;\n          });\n          var iAmNotOnDutyTwoDaysAgo = !Object.values(whoIsOnDuty(today - 2)).some(function (entry) {\n            if (entry) {\n              return entry.pk === _this.pk;\n            }\n            return false;\n          });\n          if (dutyImpossible) {\n            continue;\n          }\n          if (iMadeExceptionForToday) {\n            evaluationChart.modifyPoints(today, MODIFIER_DUTY_IMPOSSIBLE);\n          }\n          if (iDontTakeDutiesOnThisWeekday) {\n            evaluationChart.modifyPoints(today, MODIFIER_DUTY_IMPOSSIBLE);\n          }\n          if (iDontTakeDutiesOnThisPosition) {\n            evaluationChart.modifyPoints(today, MODIFIER_DUTY_IMPOSSIBLE);\n          }\n          if (dutyOnThisPositionTaken) {\n            evaluationChart.modifyPoints(today, MODIFIER_DUTY_IMPOSSIBLE);\n          }\n          if (iAmOnDutyOnAnyPosition) {\n            // Mark decreasing impact on following and preceding days.\n            // Prevent double duties.\n            evaluationChart.modifyPoints(today - 4, MODIFIER_FOUR_DAYS_APART);\n            evaluationChart.modifyPoints(today - 3, MODIFIER_THREE_DAYS_APART);\n            evaluationChart.modifyPoints(today - 2, MODIFIER_TWO_DAYS_APART);\n            evaluationChart.modifyPoints(today - 1, MODIFIER_DUTY_IMPOSSIBLE);\n            evaluationChart.modifyPoints(today, MODIFIER_DUTY_IMPOSSIBLE);\n            evaluationChart.modifyPoints(today + 1, MODIFIER_DUTY_IMPOSSIBLE);\n            evaluationChart.modifyPoints(today + 2, MODIFIER_TWO_DAYS_APART);\n            evaluationChart.modifyPoints(today + 3, MODIFIER_THREE_DAYS_APART);\n            evaluationChart.modifyPoints(today + 4, MODIFIER_FOUR_DAYS_APART);\n            if (itIsFriday) {\n              // Sunday is more attractive.\n              evaluationChart.modifyPoints(today + 2, MODIFIER_FRI_SUN);\n            }\n            if (itIsThursday) {\n              // Don't take duty on saturday, it will ruin your weekend!\n              evaluationChart.modifyPoints(today + 2, MODIFIER_THU_SAT);\n            }\n            continue;\n          }\n          if (itIsThursday && iDontTakeDutiesOnWeekends) {\n            // Day off after thursday wouldn't make any difference.\n            evaluationChart.modifyPoints(today, MODIFIER_THURSDAY_IS_ORDINARY);\n          }\n          if (itIsSunday && iAmNotOnDutyTwoDaysAgo) {\n            evaluationChart.modifyPoints(today, MODIFIER_DONT_STEAL_SUNDAYS);\n          }\n          if (itIsWeekend && iDontHaveDutyOnThisWeekend(day)) {\n            var modifier = (weekendsIHaveDutiesOn.length + 1) * MODIFIER_NEW_WEEKEND;\n            evaluationChart.modifyPoints(today, modifier);\n          }\n\n          // Apply modifier for duties left.\n          evaluationChart.modifyPoints(today, dutiesLeftModifier);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return evaluationChart;\n    }\n  }, {\n    key: \"_getPreviousMonthModfiers\",\n    value: function _getPreviousMonthModfiers(evaluationChart) {\n      var _this2 = this;\n      // Applies impact from closing duties of previous month.\n      // Same modifiers as in evaluate duties method are used.\n      var prevDuties = this.prevMonthDuties;\n      var prevMonth = _classPrivateFieldGet(this, _month) === 1 ? 12 : _classPrivateFieldGet(this, _month) - 1;\n      var prevYear = _classPrivateFieldGet(this, _month) === 1 ? _classPrivateFieldGet(this, _year) - 1 : _classPrivateFieldGet(this, _year);\n      var prevMonthLen = new Date(prevYear, prevMonth, 0).getDate();\n      var myPrevDutyDates = _toConsumableArray(new Set(prevDuties.filter(function (d) {\n        if (d.doctor) {\n          return d.doctor.pk === _this2.pk;\n        }\n        return false;\n      }).map(function (d) {\n        return d.day.number;\n      })));\n      if (!myPrevDutyDates.length) {\n        return;\n      }\n      myPrevDutyDates.sort();\n      var modifier = {\n        3: MODIFIER_DUTY_IMPOSSIBLE,\n        2: MODIFIER_TWO_DAYS_APART,\n        1: MODIFIER_THREE_DAYS_APART,\n        0: MODIFIER_FOUR_DAYS_APART\n      };\n      var _iterator2 = _createForOfIteratorHelper(myPrevDutyDates),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var date = _step2.value;\n          if (prevMonthLen - date < 4) {\n            var daysAffected = 4 - (prevMonthLen - date);\n            var _iterator3 = _createForOfIteratorHelper((0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(1, daysAffected + 1)),\n              _step3;\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var i = _step3.value;\n                evaluationChart.modifyPoints(i, modifier[daysAffected - i]);\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_getNextMonthModfiers\",\n    value: function _getNextMonthModfiers(evaluationChart) {\n      var _this3 = this;\n      // Applies impact from opening duties of next month.\n      // Same modifiers as in evaluate duties method are used.\n      var nextDuties = this.nextMonthDuties;\n      var thisMonthLength = new Date(_classPrivateFieldGet(this, _year), _classPrivateFieldGet(this, _month), 0).getDate();\n      var myNextDutyDates = _toConsumableArray(new Set(nextDuties.filter(function (d) {\n        if (d.doctor) {\n          return d.doctor.pk === _this3.pk;\n        }\n        return false;\n      }).map(function (d) {\n        return d.day.number;\n      })));\n      if (!myNextDutyDates.length) {\n        return;\n      }\n      myNextDutyDates.sort();\n      var modifier = {\n        3: MODIFIER_DUTY_IMPOSSIBLE,\n        2: MODIFIER_TWO_DAYS_APART,\n        1: MODIFIER_THREE_DAYS_APART,\n        0: MODIFIER_FOUR_DAYS_APART\n      };\n      var _iterator4 = _createForOfIteratorHelper(myNextDutyDates),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var date = _step4.value;\n          if (date < 5) {\n            var daysAffected = 5 - date;\n            var _iterator5 = _createForOfIteratorHelper((0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(daysAffected)),\n              _step5;\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var i = _step5.value;\n                evaluationChart.modifyPoints(thisMonthLength - i, modifier[daysAffected - i - 1]);\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"setDuty\",\n    value: function setDuty(duty) {\n      this.duties.push(duty);\n    }\n  }, {\n    key: \"removeDuty\",\n    value: function removeDuty(duty) {\n      var dutyToRemove = this.duties.find(function (d) {\n        var sameDay = d.getDay().number === duty.getDay().number;\n        var samePos = d.getPosition() === duty.getPosition();\n        return sameDay && samePos;\n      });\n      this.duties = this.duties.filter(function (d) {\n        return d !== dutyToRemove;\n      });\n    }\n  }, {\n    key: \"getDuties\",\n    value: function getDuties() {\n      return this.duties;\n    }\n  }, {\n    key: \"getNumberOfDuties\",\n    value: function getNumberOfDuties() {\n      var _this4 = this;\n      var duties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (!duties) {\n        return this.duties.length;\n      }\n      var myDuties = _toConsumableArray(duties.values()).map(function (elem) {\n        return Object.values(elem);\n      }).flat().filter(function (duty) {\n        var doctor = duty.getDoctor();\n        if (doctor) {\n          return doctor.pk === _this4.pk;\n        }\n        return false;\n      }).map(function (duty) {\n        return duty.day.number;\n      });\n      var thisDutyDates = this.duties.map(function (d) {\n        return d.day.number;\n      });\n      myDuties = myDuties.filter(function (date) {\n        return !thisDutyDates.includes(date);\n      });\n      return myDuties.length + thisDutyDates.length;\n    }\n  }, {\n    key: \"getWeekendsOnDuty\",\n    value: function getWeekendsOnDuty() {\n      var _this5 = this;\n      var duties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var weekendsOnDuty = new Set();\n      var myDuties = [];\n      if (!duties) {\n        myDuties = this.duties;\n      } else {\n        myDuties = _toConsumableArray(duties.values()).map(function (elem) {\n          return Object.values(elem);\n        }).flat().filter(function (duty) {\n          var doctor = duty.getDoctor();\n          if (doctor) {\n            return doctor.pk === _this5.pk;\n          }\n          return false;\n        });\n      }\n      myDuties.forEach(function (duty) {\n        if (duty.day.category === 'weekend') {\n          weekendsOnDuty.add(duty.day.week);\n        }\n      });\n      return Array.from(weekendsOnDuty);\n    }\n  }, {\n    key: \"getNumberOfDutiesOnWeekends\",\n    value: function getNumberOfDutiesOnWeekends() {\n      return this.duties.filter(function (duty) {\n        return duty.day.category === 'weekend';\n      }).length;\n    }\n  }, {\n    key: \"setMaxNumberOfDuties\",\n    value: function setMaxNumberOfDuties(number) {\n      var saveInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (saveInit) {\n        _classPrivateFieldSet(this, _maxNumberOfDutiesInit, number);\n      }\n      this.maxNumberOfDuties = number;\n      _classPrivateMethodGet(this, _updateMaxNumberOfDuties, _updateMaxNumberOfDuties2).call(this, saveInit);\n    }\n  }, {\n    key: \"getMaxNumberOfDuties\",\n    value: function getMaxNumberOfDuties() {\n      return this.maxNumberOfDuties;\n    }\n  }, {\n    key: \"getNumberOfDutiesLeft\",\n    value: function getNumberOfDutiesLeft() {\n      var _this6 = this;\n      var duties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (!duties) {\n        return this.maxNumberOfDuties - this.duties.length;\n      }\n      var myDuties = _toConsumableArray(duties.values()).map(function (elem) {\n        return Object.values(elem);\n      }).flat().filter(function (duty) {\n        var doctor = duty.getDoctor();\n        if (doctor) {\n          return doctor.pk === _this6.pk;\n        }\n        return false;\n      }).map(function (duty) {\n        return duty.day.number;\n      });\n      var thisDutyDates = this.duties.map(function (d) {\n        return d.day.number;\n      });\n      myDuties = myDuties.filter(function (date) {\n        return !thisDutyDates.includes(date);\n      });\n      return this.maxNumberOfDuties - myDuties.length - thisDutyDates.length;\n    }\n  }, {\n    key: \"setStrain\",\n    value: function setStrain(strain) {\n      this.strain += strain;\n    }\n  }, {\n    key: \"getStrain\",\n    value: function getStrain() {\n      return this.strain;\n    }\n  }, {\n    key: \"clearDuties\",\n    value: function clearDuties() {\n      var clearUserSetToo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (clearUserSetToo) {\n        this.duties = [];\n      } else {\n        this.duties = this.duties.filter(function (duty) {\n          return duty.isUserSet() === true;\n        });\n      }\n    }\n  }, {\n    key: \"clearStrain\",\n    value: function clearStrain() {\n      var clearUserSetToo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (clearUserSetToo) {\n        this.strain = 0;\n      } else {\n        this.strain = this.duties.filter(function (duty) {\n          return duty.isUserSet() === true;\n        }).reduce(function (prevVal, currDuty) {\n          return prevVal + currDuty.getStrain();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"setExceptions\",\n    value: function setExceptions(exceptionList) {\n      var saveInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      exceptionList.sort();\n      if (saveInit) {\n        _classPrivateFieldSet(this, _exceptionsInit, exceptionList);\n      }\n      this.exceptions = exceptionList;\n    }\n  }, {\n    key: \"getExceptions\",\n    value: function getExceptions() {\n      return this.exceptions;\n    }\n  }, {\n    key: \"setPreferredDays\",\n    value: function setPreferredDays(daysList) {\n      var saveInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      daysList.sort();\n      if (saveInit) {\n        _classPrivateFieldSet(this, _preferredDaysInit, daysList);\n      }\n      this.preferredDays = daysList;\n      _classPrivateMethodGet(this, _updateMaxNumberOfDuties, _updateMaxNumberOfDuties2).call(this, saveInit);\n    }\n  }, {\n    key: \"getPreferredDays\",\n    value: function getPreferredDays() {\n      return this.preferredDays;\n    }\n  }, {\n    key: \"setPreferredWeekdays\",\n    value: function setPreferredWeekdays(weekdaysList) {\n      var saveInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      weekdaysList.sort();\n      if (saveInit) {\n        _classPrivateFieldSet(this, _preferredWeekdaysInit, weekdaysList);\n      }\n      this.preferredWeekdays = weekdaysList;\n      _classPrivateMethodGet(this, _updateMaxNumberOfDuties, _updateMaxNumberOfDuties2).call(this, saveInit);\n    }\n  }, {\n    key: \"getPreferredWeekdays\",\n    value: function getPreferredWeekdays() {\n      return this.preferredWeekdays;\n    }\n  }, {\n    key: \"setPreferredPositions\",\n    value: function setPreferredPositions(positionList) {\n      var saveInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      positionList.sort();\n      if (saveInit) {\n        _classPrivateFieldSet(this, _preferredPositionsInit, positionList);\n      }\n      this.preferredPositions = positionList;\n    }\n  }, {\n    key: \"getPreferredPositions\",\n    value: function getPreferredPositions() {\n      return this.preferredPositions;\n    }\n  }, {\n    key: \"lockPreferences\",\n    value: function lockPreferences() {\n      this.locked = true;\n    }\n  }, {\n    key: \"isLocked\",\n    value: function isLocked() {\n      return this.locked;\n    }\n  }, {\n    key: \"restoreInit\",\n    value: function restoreInit() {\n      this.restoreMaxDuties();\n      this.restoreExceptions();\n      this.restorePreferredDays();\n      this.restorePreferredPositions();\n      this.restorePreferredWeekdays();\n    }\n  }, {\n    key: \"restoreMaxDuties\",\n    value: function restoreMaxDuties() {\n      this.maxNumberOfDuties = _classPrivateFieldGet(this, _maxNumberOfDutiesInit);\n    }\n  }, {\n    key: \"restoreExceptions\",\n    value: function restoreExceptions() {\n      this.exceptions = _toConsumableArray(_classPrivateFieldGet(this, _exceptionsInit));\n    }\n  }, {\n    key: \"restorePreferredDays\",\n    value: function restorePreferredDays() {\n      this.preferredDays = _toConsumableArray(_classPrivateFieldGet(this, _preferredDaysInit));\n    }\n  }, {\n    key: \"restorePreferredPositions\",\n    value: function restorePreferredPositions() {\n      this.preferredPositions = _toConsumableArray(_classPrivateFieldGet(this, _preferredPositionsInit));\n    }\n  }, {\n    key: \"restorePreferredWeekdays\",\n    value: function restorePreferredWeekdays() {\n      this.preferredWeekdays = _toConsumableArray(_classPrivateFieldGet(this, _preferredWeekdaysInit));\n    }\n  }, {\n    key: \"getStatistics\",\n    value: function getStatistics() {\n      var _this7 = this;\n      var byDate = function byDate(dutyA, dutyB) {\n        return dutyA.getDay().number - dutyB.getDay().number;\n      };\n      var myDuties = this.duties.sort(byDate);\n      var myDutysDates = this.duties.map(function (duty) {\n        return duty.getDay().number;\n      });\n      var statistics = {\n        name: this.name,\n        duties: myDuties.length,\n        strain: 0,\n        weekends: new Set(),\n        weekendDays: 0,\n        holidays: 0,\n        0: 0,\n        1: 0,\n        2: 0,\n        3: 0,\n        4: 0,\n        5: 0,\n        6: 0\n      };\n      myDuties.forEach(function (duty) {\n        var day = duty.getDay();\n        var today = day.number;\n\n        // Compute strain.\n        statistics.strain += day.strainPoints;\n        var modifier = {\n          2: MODIFIER_TWO_DAYS_APART,\n          3: MODIFIER_THREE_DAYS_APART,\n          4: MODIFIER_FOUR_DAYS_APART\n        };\n        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(2, 5).forEach(function (number) {\n          if (myDutysDates.includes(today + number)) {\n            statistics.strain += modifier[number];\n          }\n        });\n        var iDontTakeDutiesOnWeekends = !(5 in _this7.preferredWeekdays || 6 in _this7.preferredWeekdays);\n        if (iDontTakeDutiesOnWeekends && day.weekday === 3) {\n          statistics.strain += MODIFIER_THURSDAY_IS_ORDINARY;\n        }\n\n        // Count weekdays.\n        statistics[day.weekday]++;\n\n        // Count weekends and weekend days\n        var itIsWeekend = [4, 5, 6].includes(day.weekday);\n        if (itIsWeekend) {\n          statistics.weekends.add(day.week);\n          statistics.weekendDays++;\n        }\n\n        // Count holidays.\n        var itIsHoliday = day.category === 'holiday';\n        if (itIsHoliday) {\n          statistics.holidays++;\n        }\n      });\n\n      // Count weekends\n      statistics.weekends = statistics.weekends.size;\n\n      // Add strain for each weekend.\n      statistics.strain += statistics.weekends * MODIFIER_EACH_WEEKEND;\n      return statistics;\n    }\n  }]);\n  return Doctor;\n}();\nfunction _updateMaxNumberOfDuties2(saveInit) {\n  var _this8 = this;\n  /* It may be a problem when setting duties, if a doctor has a high \n  max number of duties and there are not as many weekdays in month \n  which he accepts.\n  This function is ran whenever max number of duties \n  or preferred weekdays are set to ensure that max number of duties \n  is not higher then number of available days. */\n  if (this.preferredWeekdays.length > 3) {\n    return;\n  }\n  var preferredWeekdaysInMonth = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getNumberOfWeekdaysInMonth)(_classPrivateFieldGet(this, _year), _classPrivateFieldGet(this, _month), this.preferredWeekdays);\n  var preferredDaysOnUnpreferredWeekdays = this.preferredDays.reduce(function (sum, prefDay) {\n    var weekday = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getWeekday)(_classPrivateFieldGet(_this8, _year), _classPrivateFieldGet(_this8, _month), prefDay);\n    if (!_this8.preferredWeekdays.includes(weekday)) {\n      return sum + 1;\n    }\n  }, 0);\n  var acceptedDaysInMonth = preferredWeekdaysInMonth + preferredDaysOnUnpreferredWeekdays;\n  if (this.maxNumberOfDuties > acceptedDaysInMonth) {\n    this.setMaxNumberOfDuties(acceptedDaysInMonth, saveInit);\n  } else if (this.maxNumberOfDuties < this.preferredDays.length || !this.preferredWeekdays.length) {\n    this.setMaxNumberOfDuties(this.preferredDays.length, saveInit);\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Doctor);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/Doctor.js?");

/***/ }),

/***/ 18417:
/*!***********************************************!*\
  !*** ./frontend/components/algorithm/Duty.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar Duty = /*#__PURE__*/function () {\n  function Duty(day, doctor, position, strainPoints, pk, setByUser) {\n    _classCallCheck(this, Duty);\n    _defineProperty(this, \"day\", void 0);\n    _defineProperty(this, \"doctor\", void 0);\n    _defineProperty(this, \"position\", void 0);\n    _defineProperty(this, \"strainPoints\", void 0);\n    _defineProperty(this, \"pk\", void 0);\n    this.day = day;\n    this.doctor = doctor;\n    this.position = position;\n    this.strainPoints = strainPoints;\n    this.pk = pk;\n    this.setByUser = setByUser;\n    this.getPk = this.getPk.bind(this);\n    this.userSet = this.userSet.bind(this);\n    this.isUserSet = this.isUserSet.bind(this);\n    this.setDoctor = this.setDoctor.bind(this);\n    this.copy = this.copy.bind(this);\n    this.getDoctor = this.getDoctor.bind(this);\n    this.getPosition = this.getPosition.bind(this);\n    this.getStrain = this.getStrain.bind(this);\n    this.getDay = this.getDay.bind(this);\n    this.getMonth = this.getMonth.bind(this);\n    this.getYear = this.getYear.bind(this);\n  }\n  _createClass(Duty, [{\n    key: \"getPk\",\n    value: function getPk() {\n      return this.pk;\n    }\n  }, {\n    key: \"userSet\",\n    value: function userSet(mode) {\n      this.setByUser = mode;\n    }\n  }, {\n    key: \"isUserSet\",\n    value: function isUserSet() {\n      return this.setByUser;\n    }\n  }, {\n    key: \"setDoctor\",\n    value: function setDoctor(newDoctor) {\n      this.doctor = newDoctor;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(data) {\n      this.doctor = data.doctor;\n      this.strainPoints = data.strainPoints;\n      this.setByUser = data.setByUser;\n    }\n  }, {\n    key: \"getDoctor\",\n    value: function getDoctor() {\n      return this.doctor;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this.position;\n    }\n  }, {\n    key: \"getStrain\",\n    value: function getStrain() {\n      return this.strainPoints;\n    }\n  }, {\n    key: \"getDay\",\n    value: function getDay() {\n      return this.day;\n    }\n  }, {\n    key: \"getMonth\",\n    value: function getMonth() {\n      return this.day.month;\n    }\n  }, {\n    key: \"getYear\",\n    value: function getYear() {\n      return this.day.year;\n    }\n  }]);\n  return Duty;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Duty);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/Duty.js?");

/***/ }),

/***/ 33281:
/*!**********************************************************!*\
  !*** ./frontend/components/algorithm/EvaluationChart.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ 59920);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar EvaluationChart = /*#__PURE__*/function () {\n  function EvaluationChart(days, doctor) {\n    var _this = this;\n    _classCallCheck(this, EvaluationChart);\n    this.doctor = doctor;\n    this.classification = {};\n    days.forEach(function (day) {\n      _this.classification[day.number] = {\n        day: day,\n        strainPoints: day.strainPoints\n      };\n    });\n    this.modifyPoints = this.modifyPoints.bind(this);\n    this.getDayStrain = this.getDayStrain.bind(this);\n    this.getBest = this.getBest.bind(this);\n  }\n  _createClass(EvaluationChart, [{\n    key: \"modifyPoints\",\n    value: function modifyPoints(dayNumber, points) {\n      if (dayNumber in this.classification) {\n        this.classification[dayNumber].strainPoints += points;\n      }\n    }\n  }, {\n    key: \"getDayStrain\",\n    value: function getDayStrain(dayNumber) {\n      if (!(dayNumber in this.classification)) {\n        throw Error(\"Klasyfikacja nie zawiera dnia: \".concat(dayNumber, \"!\"));\n      }\n      return this.classification[dayNumber].strainPoints;\n    }\n  }, {\n    key: \"getBest\",\n    value: function getBest() {\n      var bestDay = Object.values(this.classification).sort(function (a, b) {\n        return a.strainPoints - b.strainPoints;\n      })[0];\n      var bestStrain = bestDay.strainPoints;\n      if (bestStrain >= 10000) {\n        return [null, null];\n      }\n\n      // Find all days with strain equal to best one, \n      // shuffle them and return one.\n      var bestDays = Object.values(this.classification).filter(function (day) {\n        return day.strainPoints === bestStrain;\n      });\n      (0,_utils__WEBPACK_IMPORTED_MODULE_0__.shuffle)(bestDays);\n      return [bestDays[0].day, bestDays[0].strainPoints];\n    }\n  }]);\n  return EvaluationChart;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EvaluationChart);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/EvaluationChart.js?");

/***/ }),

/***/ 50868:
/*!********************************************************!*\
  !*** ./frontend/components/algorithm/MonthlyDuties.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ 59920);\n/* harmony import */ var js_combinatorics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-combinatorics */ 19684);\n/* harmony import */ var _Day__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Day */ 97794);\n/* harmony import */ var _Duty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Duty */ 18417);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\n\n\n\nvar WEEKDAY_NAMES = ['Poniedziałek', 'Wtorek', 'Środa', 'Czwartek', 'Piątek', 'Sobota', 'Niedziela'];\nvar _log = /*#__PURE__*/new WeakMap();\nvar MonthlyDuties = /*#__PURE__*/function () {\n  function MonthlyDuties(year, month, unit) {\n    var pk = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    _classCallCheck(this, MonthlyDuties);\n    _defineProperty(this, \"pk\", void 0);\n    _defineProperty(this, \"days\", void 0);\n    _defineProperty(this, \"month\", void 0);\n    _defineProperty(this, \"year\", void 0);\n    _defineProperty(this, \"doctors\", void 0);\n    _defineProperty(this, \"preferences\", void 0);\n    _defineProperty(this, \"dutyPositions\", void 0);\n    _defineProperty(this, \"duties\", void 0);\n    _defineProperty(this, \"prevMonthDuties\", void 0);\n    _defineProperty(this, \"nextMonthDuties\", void 0);\n    _classPrivateFieldInitSpec(this, _log, {\n      writable: true,\n      value: void 0\n    });\n    this.pk = pk;\n    var numberOfDays = new Date(year, month, 0).getDate();\n    this.days = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(1, numberOfDays + 1).map(function (day) {\n      return new _Day__WEBPACK_IMPORTED_MODULE_2__[\"default\"](year, month, day);\n    });\n    this.month = month;\n    this.year = year;\n    this.doctors = unit.doctors;\n    this.preferences = {};\n    this.dutyPositions = unit.dutyPositions;\n    this.duties = new Map();\n    var _iterator = _createForOfIteratorHelper(this.days),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var day = _step.value;\n        var dailyDuties = {};\n        var _iterator2 = _createForOfIteratorHelper(this.dutyPositions),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var position = _step2.value;\n            var duty = new _Duty__WEBPACK_IMPORTED_MODULE_3__[\"default\"](day, null, position, day.strainPoints, null, false);\n            dailyDuties[position] = duty;\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        this.duties.set(day, dailyDuties);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    this.prevMonthDuties = [];\n    this.nextMonthDuties = [];\n    _classPrivateFieldSet(this, _log, []);\n    this.setPk = this.setPk.bind(this);\n    this.getPk = this.getPk.bind(this);\n    this.addDoctors = this.addDoctors.bind(this);\n    this.removeDoctor = this.removeDoctor.bind(this);\n    this.addPrevMonthDuties = this.addPrevMonthDuties.bind(this);\n    this.getPrevMonthDuties = this.getPrevMonthDuties.bind(this);\n    this.addNextMonthDuties = this.addNextMonthDuties.bind(this);\n    this.getNextMonthDuties = this.getNextMonthDuties.bind(this);\n    this.setDuties = this.setDuties.bind(this);\n    this.setDuty = this.setDuty.bind(this);\n    this.performChecks = this.performChecks.bind(this);\n    this.clearDuties = this.clearDuties.bind(this);\n    this.getDays = this.getDays.bind(this);\n    this.getMonth = this.getMonth.bind(this);\n    this.getYear = this.getYear.bind(this);\n    this.getDay = this.getDay.bind(this);\n    this.getDuty = this.getDuty.bind(this);\n    this.getDuties = this.getDuties.bind(this);\n    this.whoIsOnDuty = this.whoIsOnDuty.bind(this);\n    this.updatePreferences = this.updatePreferences.bind(this);\n    this.getPreferences = this.getPreferences.bind(this);\n    this._removeDoctorDuties = this._removeDoctorDuties.bind(this);\n    this._assignAndPostCheck = this._assignAndPostCheck.bind(this);\n    this._isThereEnoughDoctors = this._isThereEnoughDoctors.bind(this);\n    this._checkPreferredDays = this._checkPreferredDays.bind(this);\n    this._checkByDay = this._checkByDay.bind(this);\n    this._checkDayPair = this._checkDayPair.bind(this);\n    this._checkDay = this._checkDay.bind(this);\n    this._assignPreferredDuties = this._assignPreferredDuties.bind(this);\n    this._assignDuties = this._assignDuties.bind(this);\n    this._checkForMissingDuties = this._checkForMissingDuties.bind(this);\n    this._checkForForbiddenDuties = this._checkForForbiddenDuties.bind(this);\n    this._log = this._log.bind(this);\n    this._clearLog = this._clearLog.bind(this);\n    this.getStatistics = this.getStatistics.bind(this);\n    this._getNextDay = this._getNextDay.bind(this);\n    this._dutiesAreSet = this._dutiesAreSet.bind(this);\n    this._assign = this._assign.bind(this);\n    this._options = this._options.bind(this);\n    this._getNextDay = this._getNextDay.bind(this);\n    this._getActualPreferences = this._getActualPreferences.bind(this);\n  }\n  _createClass(MonthlyDuties, [{\n    key: \"setPk\",\n    value: function setPk(pk) {\n      this.pk = pk;\n    }\n  }, {\n    key: \"getPk\",\n    value: function getPk() {\n      return this.pk;\n    }\n  }, {\n    key: \"addDoctors\",\n    value: function addDoctors(doctorList) {\n      this.doctors = this.doctors.concat(doctorList);\n    }\n  }, {\n    key: \"addDuties\",\n    value: function addDuties(dutyList) {\n      var _this = this;\n      dutyList.forEach(function (newDuty) {\n        // Make sure day instance is equal to one stored in MD instance.\n        var date = newDuty.getDay().number;\n        var position = newDuty.getPosition();\n        var day = _this.getDay(date);\n        newDuty.day = day;\n\n        // Remove old duty from its doctor if there is one.\n        var oldDuty = _this.duties.get(day)[position];\n        var oldDoctor = oldDuty.getDoctor();\n        if (oldDoctor) {\n          oldDoctor.removeDuty(oldDuty);\n          oldDoctor.setStrain(-oldDuty.getStrain());\n        }\n\n        // Set new duty.\n        _this.duties.get(day)[position] = newDuty;\n\n        // Set new duty for doctor if there is one.\n        var newDoctor = newDuty.getDoctor();\n        if (newDoctor) {\n          newDoctor.setDuty(newDuty);\n          newDoctor.setStrain(newDuty.getStrain());\n        }\n      });\n    }\n  }, {\n    key: \"removeDoctor\",\n    value: function removeDoctor(pk) {\n      var doctor = this.doctors.find(function (doc) {\n        return doc.pk === pk;\n      });\n      doctor.clearDuties();\n      doctor.clearStrain();\n      this._removeDoctorDuties(doctor, true);\n      this.doctors = this.doctors.filter(function (doctor) {\n        return !(doctor.pk === pk);\n      });\n    }\n  }, {\n    key: \"_removeDoctorDuties\",\n    value: function _removeDoctorDuties(doctor) {\n      var clearUserSetToo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var _iterator3 = _createForOfIteratorHelper(this.days),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var day = _step3.value;\n          for (var _i = 0, _Object$values = Object.values(this.duties.get(day)); _i < _Object$values.length; _i++) {\n            var duty = _Object$values[_i];\n            if ((!duty.isUserSet() || clearUserSetToo) && duty.getDoctor() === doctor) {\n              duty.setDoctor(null);\n              duty.userSet(false);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"changeDoctor\",\n    value: function changeDoctor(duty, newDoctor) {\n      var _this2 = this;\n      var userSet = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // Check for double and multi-positioned duties.\n      if (newDoctor) {\n        var date = duty.getDay().number;\n        [date - 1, date, date + 1].forEach(function (dayNumber) {\n          if (dayNumber < 1 || dayNumber > _this2.days.length) {\n            return;\n          }\n          var day = _this2.getDay(dayNumber);\n          _this2.dutyPositions.forEach(function (position) {\n            var otherDuty = _this2.duties.get(day)[position];\n            var doc = otherDuty.getDoctor();\n            if (doc === newDoctor) {\n              _this2.changeDoctor(otherDuty, null);\n            }\n          });\n        });\n      }\n      // Change doctor and save in duty and doctor instances.\n      var oldDoctor = duty.getDoctor();\n      duty.setDoctor(newDoctor);\n      duty.userSet(userSet);\n      oldDoctor && oldDoctor.removeDuty(duty);\n      newDoctor && newDoctor.setDuty(duty);\n    }\n  }, {\n    key: \"addPrevMonthDuties\",\n    value: function addPrevMonthDuties(dutyList) {\n      var _iterator4 = _createForOfIteratorHelper(dutyList),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var duty = _step4.value;\n          this.prevMonthDuties.push(duty);\n          var doctor = duty.getDoctor();\n          if (doctor !== null) {\n            doctor.addPrevMonthDuty(duty);\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"getPrevMonthDuties\",\n    value: function getPrevMonthDuties() {\n      return this.prevMonthDuties;\n    }\n  }, {\n    key: \"addNextMonthDuties\",\n    value: function addNextMonthDuties(dutyList) {\n      var _iterator5 = _createForOfIteratorHelper(dutyList),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var duty = _step5.value;\n          this.nextMonthDuties.push(duty);\n          var doctor = duty.getDoctor();\n          if (doctor !== null) {\n            doctor.addNextMonthDuty(duty);\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"getNextMonthDuties\",\n    value: function getNextMonthDuties() {\n      return this.nextMonthDuties;\n    }\n  }, {\n    key: \"updatePreferences\",\n    value: function updatePreferences() {\n      var _this3 = this;\n      var includeDuties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var preferences = {};\n\n      // Create template - each doctor prefers all days on all positions.\n      this.days.forEach(function (day) {\n        var preferencePerPosition = {};\n        _this3.dutyPositions.forEach(function (position) {\n          preferencePerPosition[position] = _this3.doctors;\n        });\n        preferences[day.number] = preferencePerPosition;\n      });\n\n      // Delete non-existent preferences.\n      this.doctors.forEach(function (doctor) {\n        var exceptions = doctor.getExceptions();\n        var prefPositions = doctor.getPreferredPositions();\n        var prefWeekdays = doctor.getPreferredWeekdays();\n        var prefDays = doctor.getPreferredDays();\n        var dutyDates = doctor.getDuties().map(function (d) {\n          return d.day.number;\n        });\n        var _iterator6 = _createForOfIteratorHelper(_this3.days),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var day = _step6.value;\n            var date = day.number;\n            var dutyOnAdjacentDay = dutyDates.includes(date + 1) || dutyDates.includes(date - 1);\n            var adjacentPrefDay = prefDays.includes(date + 1) || prefDays.includes(date - 1);\n            var _iterator7 = _createForOfIteratorHelper(_this3.dutyPositions),\n              _step7;\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var position = _step7.value;\n                if (adjacentPrefDay) {\n                  preferences[date][position] = preferences[date][position].filter(function (d) {\n                    return d !== doctor;\n                  });\n                  continue;\n                }\n                if (dutyOnAdjacentDay && includeDuties) {\n                  preferences[date][position] = preferences[date][position].filter(function (d) {\n                    return d !== doctor;\n                  });\n                  continue;\n                }\n                if (!prefPositions.includes(position)) {\n                  preferences[date][position] = preferences[date][position].filter(function (d) {\n                    return d !== doctor;\n                  });\n                  continue;\n                }\n                if (!prefWeekdays.includes(day.weekday) && !prefDays.includes(day.number)) {\n                  preferences[date][position] = preferences[date][position].filter(function (d) {\n                    return d !== doctor;\n                  });\n                  continue;\n                }\n                if (exceptions.includes(day.number)) {\n                  preferences[date][position] = preferences[date][position].filter(function (d) {\n                    return d !== doctor;\n                  });\n                  continue;\n                }\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      });\n\n      // Also save all doctors who can take duty on any position of each day.\n      var _iterator8 = _createForOfIteratorHelper(this.days),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var day = _step8.value;\n          preferences[day.number]['all'] = _toConsumableArray(new Set(Object.values(preferences[day.number]).reduce(function (prevVal, currval) {\n            return prevVal.concat(currval);\n          }, [])));\n        }\n\n        // Save and return.\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n      this.preferences = preferences;\n      return preferences;\n    }\n  }, {\n    key: \"getPreferences\",\n    value: function getPreferences() {\n      return this.preferences;\n    }\n  }, {\n    key: \"performChecks\",\n    value: function performChecks() {\n      // Make sure it is a fresh start.\n      this._clearLog();\n      var results = [];\n\n      // Check if there are enough doctors.\n      var enoughDoctors = this._isThereEnoughDoctors();\n      results.push(enoughDoctors);\n\n      // Check if preferred days don't overlap.\n      // and if doctor doesn't have more preferences than max duties.\n      var preferredDaysOk = this._checkPreferredDays();\n      results.push(preferredDaysOk);\n      if (enoughDoctors) {\n        // Check if every day, every position and every pair \n        // of subsequent days has enough doctors for all duties to be set.\n        var allDaysAreOk = this._checkByDay();\n        results.push(allDaysAreOk);\n      }\n      if (!results.every(function (outcome) {\n        return outcome;\n      })) {\n        return [false, _classPrivateFieldGet(this, _log)];\n      }\n      return [true, ['Nie wykryto błędów. Dyżury zostaną ułożone.']];\n    }\n  }, {\n    key: \"_isThereEnoughDoctors\",\n    value: function _isThereEnoughDoctors() {\n      // Check if there is a fixed minimum of doctors\n      // for 1 to 3 positions.\n      var dutyPositions = this.dutyPositions.length;\n      var minDoctors = dutyPositions * 2;\n      var actualDoctors = this.doctors.length;\n      if (actualDoctors < minDoctors) {\n        this._log(\"Zbyt ma\\u0142o lekarzy na liczb\\u0119 pozycji dy\\u017Curowych: \" + \"\".concat(dutyPositions, \". Minimalna liczba lekarzy wynosi \").concat(minDoctors, \", \") + \"a dodano \".concat(actualDoctors, \" lekarzy.\"));\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_checkPreferredDays\",\n    value: function _checkPreferredDays() {\n      var _this4 = this;\n      var preferredPositions = new _utils__WEBPACK_IMPORTED_MODULE_0__.DefaultDict(Array);\n      var errors = new Set();\n\n      // Create a dict of positions taken (i.e. set by user) on each day\n      // for positions compatibility testing\n      var takenPositions = {};\n      this.days.forEach(function (day) {\n        var positionsToAdd = [];\n        _this4.dutyPositions.forEach(function (position) {\n          var duty = _this4.duties.get(day)[position];\n          if (duty.getDoctor() !== null && duty.isUserSet()) {\n            positionsToAdd.push(duty.getPosition());\n          }\n        });\n        takenPositions[day.number] = positionsToAdd;\n      });\n      var _iterator9 = _createForOfIteratorHelper(this.doctors),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var doctor = _step9.value;\n          var exceptions = doctor.getExceptions();\n          var preferredDays = doctor.getPreferredDays();\n          var doctorsPreferredPositions = doctor.getPreferredPositions();\n          var maxNumberOfDuties = doctor.getMaxNumberOfDuties();\n          var _iterator10 = _createForOfIteratorHelper(preferredDays),\n            _step10;\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              var day = _step10.value;\n              if (exceptions.includes(day)) {\n                errors.add(\"\".concat(doctor.name, \" jednocze\\u015Bnie wyklucza i \") + \"preferuje dy\\u017Cur \".concat(day, \"/\").concat(this.month, \"/\").concat(this.year, \".\"));\n              }\n            }\n\n            // Check if doctor has more preferences then his duty number limit.\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n          if (preferredDays.length > maxNumberOfDuties) {\n            errors.add(\"\".concat(doctor.name, \" ma wi\\u0119cej preferowanych dni \") + 'niż jego maksymalna liczbę dyżurów.');\n          }\n\n          // Check if doctor can be assigned duty on his preferred days\n          // on any of his prefered positions.\n          var _iterator11 = _createForOfIteratorHelper(preferredDays),\n            _step11;\n          try {\n            var _loop = function _loop() {\n              var dayNumber = _step11.value;\n              var preferredPositionsExcludingTaken = doctorsPreferredPositions.filter(function (position) {\n                return !takenPositions[dayNumber].includes(position);\n              });\n              var allPositionsTaken = preferredPositions[dayNumber].length === _this4.dutyPositions.length - takenPositions[dayNumber].length;\n              var uniquePositionsIncludingDoctors = new Set(preferredPositions[dayNumber].flat().concat(preferredPositionsExcludingTaken));\n              var doctorsPositionWillFit = uniquePositionsIncludingDoctors.size >= preferredPositions[dayNumber].length + 1;\n              if (allPositionsTaken || !doctorsPositionWillFit) {\n                errors.add(\"\".concat(dayNumber, \"/\").concat(_this4.month, \"/\").concat(_this4.year, \" \") + 'jest preferowany przez więcej lekarzy niż liczba obsady.');\n              } else {\n                // If any of positions fit, add them\n                // to check further doctors against them.\n                preferredPositions[dayNumber].push(preferredPositionsExcludingTaken);\n              }\n\n              // Check if doctor's preferences are not on consecutive days.\n              if (preferredDays.includes(dayNumber + 1)) {\n                errors.add(\"\".concat(doctor.name, \" prosi o dy\\u017Cur w nast\\u0119puj\\u0105cych \") + \"po sobie dniach \".concat(dayNumber, \" i \").concat(dayNumber + 1) + \"/\".concat(_this4.month, \"/\").concat(_this4.year));\n              }\n            };\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              _loop();\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n      if (errors.size > 0) {\n        _toConsumableArray(errors).forEach(function (error) {\n          return _this4._log(error);\n        });\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_checkByDay\",\n    value: function _checkByDay() {\n      var _this5 = this;\n      this.updatePreferences(true);\n      var errors = [];\n      for (var date = 1; date < this.days.length; date++) {\n        var pairErrors = this._checkDayPair(date);\n        errors = errors.concat(pairErrors);\n        var dayErrors = this._checkDay(date);\n        errors = errors.concat(dayErrors);\n      }\n      if (errors.length) {\n        // Log errors.\n        errors.forEach(function (error) {\n          return _this5._log(error);\n        });\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_checkDayPair\",\n    value: function _checkDayPair(date) {\n      var _this6 = this;\n      var preferences = this.preferences;\n\n      // Create errors object.\n      var errors = new Map();\n\n      // Create position combinations of all lengths.\n      for (var len = this.dutyPositions.length; len > 0; len--) {\n        var posCombinations = _toConsumableArray(new js_combinatorics__WEBPACK_IMPORTED_MODULE_1__.Combination(this.dutyPositions, len));\n\n        // For each combination, check number of doctors available\n        // for current and next day and their sum.\n        var _iterator12 = _createForOfIteratorHelper(posCombinations),\n          _step12;\n        try {\n          var _loop2 = function _loop2() {\n            var combination = _step12.value;\n            var todayDocs = new Set();\n            var tomorrowDocs = new Set();\n            var _iterator13 = _createForOfIteratorHelper(combination),\n              _step13;\n            try {\n              for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n                var position = _step13.value;\n                preferences[date][position].forEach(function (d) {\n                  return todayDocs.add(d);\n                });\n                preferences[date + 1][position].forEach(function (d) {\n                  return tomorrowDocs.add(d);\n                });\n              }\n            } catch (err) {\n              _iterator13.e(err);\n            } finally {\n              _iterator13.f();\n            }\n            var allDocs = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.union)(todayDocs, tomorrowDocs);\n\n            // If doctors' count is less then twice the number\n            // of checked positions, that implies a missing duty.\n            if (allDocs.size < len * 2) {\n              // Check if current combination is already\n              // included inside longer combination\n              // and save error if it isn't.\n              var isIncluded = _toConsumableArray(errors.keys()).some(function (key) {\n                return combination.every(function (pos) {\n                  return key.includes(pos);\n                });\n              });\n              if (!isIncluded) {\n                var err = \"\".concat(date, \"/\").concat(_this6.month, \"/\").concat(_this6.year, \" \") + \"oraz \".concat(date + 1, \"/\").concat(_this6.month, \"/\").concat(_this6.year, \" \") + \"na \".concat(combination.length > 1 ? 'pozycjach' : 'pozycji', \" \") + \"\".concat(combination.join(', '), \" dy\\u017Cury \") + \"mo\\u017Ce przyj\\u0105\\u0107 \\u0142\\u0105cznie \".concat(allDocs.size, \" \") + \"\".concat(allDocs.size > 1 ? 'lekarzy' : 'lekarz', \" \") + \"(\".concat(date, \"/\").concat(_this6.month, \"/\").concat(_this6.year, \": \") + \"\".concat(_toConsumableArray(todayDocs).map(function (doc) {\n                  return doc.name;\n                }).join(', '), \" \") + \"oraz \".concat(date + 1, \"/\").concat(_this6.month, \"/\").concat(_this6.year, \": \") + \"\".concat(_toConsumableArray(tomorrowDocs).map(function (doc) {\n                  return doc.name;\n                }).join(', '), \"). \") + \"To \\u0142\\u0105cznie o \".concat(len * 2 - allDocs.size, \" \") + \"zbyt ma\\u0142o, aby obsadzi\\u0107 dy\\u017Cury \" + \"nie tworz\\u0105c dublet\\xF3w.\";\n                errors.set(combination, err);\n              }\n            }\n          };\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            _loop2();\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n      }\n      return _toConsumableArray(errors.values());\n    }\n  }, {\n    key: \"_checkDay\",\n    value: function _checkDay(date) {\n      var preferences = this.preferences;\n\n      // Create error list.\n      var errors = [];\n\n      // Check each position.\n      var missingPos = [];\n      var _iterator14 = _createForOfIteratorHelper(this.dutyPositions),\n        _step14;\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var position = _step14.value;\n          if (!preferences[date][position].length) {\n            missingPos.push(position);\n          }\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n      if (missingPos.length) {\n        errors.push(\"\".concat(date, \"/\").concat(this.month, \"/\").concat(this.year, \" \") + \"na \".concat(missingPos.length > 1 ? 'każdej z pozycji:' : 'pozycji', \" \") + \"\".concat(missingPos.join(', '), \" brakuje lekarza, kt\\xF3ry m\\xF3g\\u0142by obj\\u0105\\u0107 \") + \"dy\\u017Cur.\");\n      }\n\n      // Check all positions.\n      var missingCount = this.dutyPositions.length - preferences[date]['all'].length;\n      if (missingCount > 0) {\n        errors.push(\"\".concat(date, \"/\").concat(this.month, \"/\").concat(this.year, \" dy\\u017Cur \") + \"\".concat(preferences[date]['all'].length > 1 ? 'mogą' : 'może', \" \") + \"obj\\u0105c jedynie \".concat(preferences[date]['all'].map(function (d) {\n          return d.name;\n        }).join(', '), \". \") + \"To o \".concat(missingCount, \" \").concat(missingCount === 1 ? 'lekarza' : 'lekarzy', \" \") + \"zbyt ma\\u0142o by obsadzi\\u0107 dy\\u017Cur.\");\n      }\n      return errors;\n    }\n  }, {\n    key: \"setDuties\",\n    value: function setDuties() {\n      // Make sure it is a fresh start.\n      this.clearDuties();\n      this._clearLog();\n\n      // Perform checks.\n      var _this$performChecks = this.performChecks(),\n        _this$performChecks2 = _slicedToArray(_this$performChecks, 2),\n        canBeSet = _this$performChecks2[0],\n        log = _this$performChecks2[1];\n      if (!canBeSet) {\n        return [false, false, log];\n      }\n\n      // Run assignment.\n      var setAllDuties = this._assignAndPostCheck();\n      if (setAllDuties) {\n        return [true, true, ['Dyżury zostały ułożone.']];\n      }\n      return [true, false, ['Nie udało się ułożyć wszystkich dyżurów.']];\n    }\n  }, {\n    key: \"_assignAndPostCheck\",\n    value: function _assignAndPostCheck() {\n      this._assignPreferredDuties();\n      try {\n        this._assignDuties();\n        this._checkForMissingDuties();\n        this._checkForForbiddenDuties();\n        return true;\n      } catch (error) {\n        console.log(error.message);\n        return false;\n      }\n    }\n  }, {\n    key: \"_assignPreferredDuties\",\n    value: function _assignPreferredDuties() {\n      var _this7 = this;\n      // Pre-assign, omits doctors' evaluation.\n      var duties = new _utils__WEBPACK_IMPORTED_MODULE_0__.DefaultDict(Map);\n\n      // Create a dict of positions taken on each day\n      // for preferred positions corrections\n      var takenPositions = {};\n      var _iterator15 = _createForOfIteratorHelper(this.days),\n        _step15;\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var day = _step15.value;\n          takenPositions[day.number] = Object.entries(this.whoIsOnDuty(day.number)).filter(function (entry) {\n            return entry[1] !== null;\n          }).map(function (entry) {\n            return parseInt(entry[0]);\n          });\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n      ;\n      var _iterator16 = _createForOfIteratorHelper(this.doctors),\n        _step16;\n      try {\n        for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n          var doctor = _step16.value;\n          var preferences = doctor.getPreferredDays();\n          var _iterator17 = _createForOfIteratorHelper(preferences),\n            _step17;\n          try {\n            var _loop4 = function _loop4() {\n              var date = _step17.value;\n              var preferredPositions = doctor.getPreferredPositions();\n              var allowedPositions = preferredPositions.filter(function (position) {\n                return !takenPositions[date].includes(position);\n              });\n              duties[date].set(doctor, allowedPositions);\n            };\n            for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n              _loop4();\n            }\n          } catch (err) {\n            _iterator17.e(err);\n          } finally {\n            _iterator17.f();\n          }\n        }\n      } catch (err) {\n        _iterator16.e(err);\n      } finally {\n        _iterator16.f();\n      }\n      var _loop3 = function _loop3(dayNumber) {\n        var options = _toConsumableArray(duties[dayNumber].values());\n        var acceptedOptions = _toConsumableArray(_construct(js_combinatorics__WEBPACK_IMPORTED_MODULE_1__.CartesianProduct, _toConsumableArray(options)));\n        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.shuffle)(acceptedOptions);\n        var chosenOption = acceptedOptions[0];\n        var doctors = _toConsumableArray(duties[dayNumber].keys());\n        doctors.forEach(function (doc, index) {\n          var pos = chosenOption[index];\n          var dayObj = _this7.getDay(dayNumber);\n          var duty = new _Duty__WEBPACK_IMPORTED_MODULE_3__[\"default\"](dayObj, doc, pos, dayObj.strainPoints, null, false);\n          _this7.setDuty(duty, dayObj.strainPoints);\n        });\n      };\n      for (var dayNumber in duties) {\n        _loop3(dayNumber);\n      }\n    }\n  }, {\n    key: \"_assignDuties\",\n    value: function _assignDuties() {\n      var _this8 = this;\n      var depth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      // Get doctors, who can take each duty on each day.\n      this.updatePreferences(true);\n\n      // Initialize frontier.\n      var initState = null;\n      var initAction = {\n        day: null,\n        strain: 0\n      };\n      var initNode = new Node(initState, null, initAction);\n      var frontier = new StackFrontier();\n      frontier.addToFront(initNode);\n      var best = null;\n      var steps = 0;\n\n      // Keep looping until all duties are filled.\n      var _loop5 = function _loop5() {\n        console.log(\"Steps: \".concat(steps, \". Frontier: \").concat(frontier.frontier.length, \". Depth: \").concat(depth));\n\n        // If frontier is empty, there is no solution.\n        if (frontier.empty()) {\n          throw Error(\"Duties cannot be set.\");\n        }\n\n        // Remove a node from frontier.\n        var node = frontier.remove();\n\n        // Get full state from node's state.\n        var _this8$_getStateData = _this8._getStateData(node),\n          _this8$_getStateData2 = _slicedToArray(_this8$_getStateData, 2),\n          state = _this8$_getStateData2[0],\n          meta = _this8$_getStateData2[1];\n\n        // If node contains all duties, set them.\n        if (_this8._dutiesAreSet(state)) {\n          _this8._assign(state);\n          return \"break\";\n        }\n\n        // If node is best we got, save it.\n        if (_this8._isBetter(meta, best)) {\n          best = {\n            state: state,\n            meta: meta\n          };\n        }\n\n        // Expand current node and add new options to frontier.\n        var options = _this8._options(state, depth);\n\n        // Streak search\n        options.reverse();\n        options.forEach(function (_ref, index) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            action = _ref2[0],\n            state = _ref2[1];\n          if (action !== null && state !== null) {\n            var child = new Node(state, node, action);\n            if (index === 0) {\n              frontier.addToFront(child);\n            } else {\n              frontier.addToBack(child);\n            }\n          }\n        });\n\n        /** \n        // Normal search\n        options.forEach(([action, state], index) => {\n            if (action !== null && state !== null) {\n                const child = new Node(state, node, action);\n                frontier.addToFront(child);\n            }\n        });\n        */\n\n        steps++;\n        if (steps > 2 * _this8.days.length && depth * _this8.dutyPositions.length < _this8.doctors.length) {\n          _this8._assignDuties(depth + 1);\n          return \"break\";\n        } else if (steps > 5000) {\n          // Assign best combination achieved and set it.\n          _this8._assign(best.state);\n          return \"break\";\n        }\n      };\n      while (true) {\n        var _ret = _loop5();\n        if (_ret === \"break\") break;\n      }\n    }\n  }, {\n    key: \"_getStateData\",\n    value: function _getStateData(n) {\n      // Create state template.\n      var state = new Map();\n      var _iterator18 = _createForOfIteratorHelper(this.days),\n        _step18;\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var day = _step18.value;\n          var dailyDuties = {};\n          var _iterator20 = _createForOfIteratorHelper(this.dutyPositions),\n            _step20;\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var _position = _step20.value;\n              dailyDuties[_position] = new _Duty__WEBPACK_IMPORTED_MODULE_3__[\"default\"](day, null, _position, day.strainPoints, null, false);\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n          state.set(day, dailyDuties);\n        }\n\n        // Go down nodes path and set duties they contain.\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n      var node = n;\n      var strain = 0;\n      var daysSet = 0;\n      while (node.action.day) {\n        var duties = state.get(node.action.day);\n        var _iterator19 = _createForOfIteratorHelper(this.dutyPositions),\n          _step19;\n        try {\n          for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n            var position = _step19.value;\n            duties[position].setDoctor(node.state[position - 1]);\n          }\n        } catch (err) {\n          _iterator19.e(err);\n        } finally {\n          _iterator19.f();\n        }\n        strain += node.action.strain;\n        node = node.parent;\n        daysSet++;\n      }\n      return [state, {\n        strain: strain,\n        daysSet: daysSet\n      }];\n    }\n  }, {\n    key: \"_dutiesAreSet\",\n    value: function _dutiesAreSet(state) {\n      var _iterator21 = _createForOfIteratorHelper(this.days),\n        _step21;\n      try {\n        for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n          var day = _step21.value;\n          var dailyDuties = state.get(day);\n          var _iterator22 = _createForOfIteratorHelper(this.dutyPositions),\n            _step22;\n          try {\n            for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n              var position = _step22.value;\n              var duty = dailyDuties[position];\n              if (duty.getDoctor() === null) {\n                return false;\n              }\n            }\n          } catch (err) {\n            _iterator22.e(err);\n          } finally {\n            _iterator22.f();\n          }\n        }\n      } catch (err) {\n        _iterator21.e(err);\n      } finally {\n        _iterator21.f();\n      }\n      return true;\n    }\n  }, {\n    key: \"_assign\",\n    value: function _assign(state) {\n      this.clearDuties(true);\n      var _iterator23 = _createForOfIteratorHelper(this.days),\n        _step23;\n      try {\n        for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n          var day = _step23.value;\n          var _iterator24 = _createForOfIteratorHelper(this.dutyPositions),\n            _step24;\n          try {\n            for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n              var position = _step24.value;\n              var data = state.get(day)[position];\n              if (data.getDoctor() !== null) {\n                var duty = this.duties.get(day)[position];\n                duty.isUserSet() && data.userSet(true);\n                this.setDuty(data);\n              }\n            }\n          } catch (err) {\n            _iterator24.e(err);\n          } finally {\n            _iterator24.f();\n          }\n        }\n      } catch (err) {\n        _iterator23.e(err);\n      } finally {\n        _iterator23.f();\n      }\n    }\n  }, {\n    key: \"_isBetter\",\n    value: function _isBetter(meta, best) {\n      if (!best) {\n        return true;\n      }\n      var daysSet = meta.daysSet;\n      var strain = meta.strain;\n      var bestDaysSet = best.meta.daysSet;\n      var bestStrain = best.meta.strain;\n      if (daysSet > bestDaysSet) {\n        return true;\n      } else if (daysSet === bestDaysSet && strain < bestStrain) {\n        return true;\n      }\n    }\n  }, {\n    key: \"_options\",\n    value: function _options(prevState, depth) {\n      var _this9 = this;\n      var duties = prevState;\n      var preferences = this._getActualPreferences(duties);\n      var date = this._getNextDay(preferences);\n      var day = this.getDay(date);\n      var doctors = preferences[date]['all'];\n\n      // Check if there are enough doctors to form options for all positions.\n      if (doctors.length < this.dutyPositions.length) {\n        return [[null, null]];\n      }\n\n      // Get each doctor's strain for current day.\n      var avgDuties = this.doctors.length / (this.dutyPositions.length * this.days.length);\n      var avgMaxDuties = this.doctors.reduce(function (prevVal, doc) {\n        return prevVal + doc.getMaxNumberOfDuties();\n      }, 0) / this.doctors.length;\n      var strains = new Map();\n      var _iterator25 = _createForOfIteratorHelper(doctors),\n        _step25;\n      try {\n        for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n          var doctor = _step25.value;\n          var doctorStrains = {};\n          var _iterator27 = _createForOfIteratorHelper(this.dutyPositions),\n            _step27;\n          try {\n            for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {\n              var position = _step27.value;\n              var maxDutiesFactor = Math.ceil(avgDuties * (doctor.getMaxNumberOfDuties() / avgMaxDuties));\n              maxDutiesFactor < avgDuties && (maxDutiesFactor = avgDuties);\n              var evaluationChart = doctor.evaluateDuties(duties, position, maxDutiesFactor);\n              if (!evaluationChart) {\n                doctorStrains[position] = 10000; // No duties left.\n                continue;\n              }\n              doctorStrains[position] = evaluationChart.getDayStrain(date);\n            }\n          } catch (err) {\n            _iterator27.e(err);\n          } finally {\n            _iterator27.f();\n          }\n          strains.set(doctor, doctorStrains);\n        }\n\n        // Prepare a list of lists of doctors per each position\n        // to be used for getting combinations.\n      } catch (err) {\n        _iterator25.e(err);\n      } finally {\n        _iterator25.f();\n      }\n      var todaysPreferences = [];\n      var todaysDuties = this.duties.get(day);\n      var _iterator26 = _createForOfIteratorHelper(this.dutyPositions),\n        _step26;\n      try {\n        var _loop6 = function _loop6() {\n          var position = _step26.value;\n          var doctor = todaysDuties[position].getDoctor();\n          if (!doctor) {\n            var prefs = preferences[date][position].filter(function (doc) {\n              return strains.get(doc)[position] < 10000;\n            });\n            prefs.sort(function (docA, docB) {\n              var strainA = strains.get(docA)[position];\n              var strainB = strains.get(docB)[position];\n              return strainA - strainB;\n            });\n            todaysPreferences.push(prefs.slice(0, _this9.dutyPositions.length * depth));\n          } else {\n            // If duty is set on any position, put only this doctor\n            // on this position's list.\n            todaysPreferences.push([doctor]);\n            // Make sure doctor's strain values are stored\n            // (doctor can be manually set outside his preferences).\n            var docPosition = position;\n            var docStrains = {};\n            var _iterator28 = _createForOfIteratorHelper(_this9.dutyPositions),\n              _step28;\n            try {\n              for (_iterator28.s(); !(_step28 = _iterator28.n()).done;) {\n                var pos = _step28.value;\n                if (pos === docPosition) {\n                  docStrains[pos] = todaysDuties[position].getStrain();\n                } else {\n                  docStrains[pos] = 10000;\n                }\n              }\n            } catch (err) {\n              _iterator28.e(err);\n            } finally {\n              _iterator28.f();\n            }\n            strains.set(doctor, docStrains);\n          }\n        };\n        for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {\n          _loop6();\n        }\n\n        // Get unique doctor's combinations\n        // (they respect preferred positions).\n      } catch (err) {\n        _iterator26.e(err);\n      } finally {\n        _iterator26.f();\n      }\n      var result = _toConsumableArray(_construct(js_combinatorics__WEBPACK_IMPORTED_MODULE_1__.CartesianProduct, todaysPreferences)).filter(function (elem) {\n        return new Set(elem).size === elem.length;\n      });\n\n      // Add action to each combination.\n      result = result.map(function (option) {\n        var strain = 0;\n        option.forEach(function (doctor, i) {\n          var position = i + 1;\n          strain += strains.get(doctor)[position];\n        });\n        var action = {\n          day: day,\n          strain: strain\n        };\n        return [action, option];\n      });\n\n      // Make sure each combination allows for next day to be set.\n      if (date < this.days.length && !preferences[date + 1].isSet) {\n        var nextDayDocs = preferences[date + 1]['all'].filter(function (d) {\n          return d.getNumberOfDutiesLeft() > 0;\n        });\n        result = result.filter(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n            action = _ref4[0],\n            option = _ref4[1];\n          var difference = nextDayDocs.filter(function (d) {\n            return !option.includes(d);\n          });\n          if (difference.length >= _this9.dutyPositions.length) {\n            return true;\n          }\n          return false;\n        });\n      }\n      // Make sure each combination allows for previous day to be set.\n      if (date > 1 && !preferences[date - 1].isSet) {\n        var prevDayDocs = preferences[date - 1]['all'].filter(function (d) {\n          return d.getNumberOfDutiesLeft() > 0;\n        });\n        result = result.filter(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n            action = _ref6[0],\n            option = _ref6[1];\n          var difference = prevDayDocs.filter(function (d) {\n            return !option.includes(d);\n          });\n          if (difference.length >= _this9.dutyPositions.length) {\n            return true;\n          }\n          return false;\n        });\n      }\n\n      // Sort combinations by strain, /*max duties and \n      // - on weekends - by number of weekend duties \n      // after the option is chosen, preferring the latter.*/\n      // Best combinations need to be last.\n      // Shuffle them first to avoid setting patterns.\n      (0,_utils__WEBPACK_IMPORTED_MODULE_0__.shuffle)(result);\n      result.sort(function (_ref7, _ref8) {\n        var _ref9 = _slicedToArray(_ref7, 2),\n          actionA = _ref9[0],\n          stateA = _ref9[1];\n        var _ref10 = _slicedToArray(_ref8, 2),\n          actionB = _ref10[0],\n          stateB = _ref10[1];\n        return actionB.strain - actionA.strain;\n      });\n      return result;\n    }\n  }, {\n    key: \"_getNextDay\",\n    value: function _getNextDay(prefs) {\n      var _this10 = this;\n      /* Sorts preferences to get day with \n      least average doctors per position.*/\n\n      var preferences = _objectSpread({}, prefs);\n\n      // Throw error if all duties are set.\n      if (Object.values(preferences).every(function (p) {\n        return p.isSet === true;\n      })) {\n        throw Error('Duties are set - there is no next day!');\n      }\n\n      // Remove days with set duties.\n      var dates = Object.keys(preferences).map(function (d) {\n        return parseInt(d);\n      });\n      var _iterator29 = _createForOfIteratorHelper(dates),\n        _step29;\n      try {\n        for (_iterator29.s(); !(_step29 = _iterator29.n()).done;) {\n          var _date = _step29.value;\n          if (preferences[_date].isSet) {\n            delete preferences[_date];\n          }\n        }\n\n        // Sort preferences (days) by avg number of doctors for each position.\n      } catch (err) {\n        _iterator29.e(err);\n      } finally {\n        _iterator29.f();\n      }\n      var getAvg = function getAvg(positions) {\n        var avg = Object.entries(positions).filter(function (_ref11) {\n          var _ref12 = _slicedToArray(_ref11, 2),\n            k = _ref12[0],\n            v = _ref12[1];\n          return _this10.dutyPositions.includes(parseInt(k));\n        }).map(function (_ref13) {\n          var _ref14 = _slicedToArray(_ref13, 2),\n            k = _ref14[0],\n            v = _ref14[1];\n          return v;\n        }).reduce(function (prevVal, currVal) {\n          return prevVal + currVal.length;\n        }, 0) / _this10.dutyPositions.length;\n        return avg;\n      };\n      for (var _i2 = 0, _Object$keys = Object.keys(preferences); _i2 < _Object$keys.length; _i2++) {\n        var date = _Object$keys[_i2];\n        preferences[date].avg = getAvg(preferences[date]);\n      }\n      var ordered = Object.entries(preferences).sort(function (_ref15, _ref16) {\n        var _ref17 = _slicedToArray(_ref15, 2),\n          dayA = _ref17[0],\n          dataA = _ref17[1];\n        var _ref18 = _slicedToArray(_ref16, 2),\n          dayB = _ref18[0],\n          dataB = _ref18[1];\n        return dataA.avg - dataB.avg;\n      }).map(function (_ref19) {\n        var _ref20 = _slicedToArray(_ref19, 2),\n          day = _ref20[0],\n          options = _ref20[1];\n        return parseInt(day);\n      });\n      return ordered[0];\n    }\n  }, {\n    key: \"_getActualPreferences\",\n    value: function _getActualPreferences(state) {\n      var _this11 = this;\n      /* Returns preferences object with marked set days\n      and filtered out doctors from adjacent set duties. */\n\n      // Copy preferences so that this.preferences is not affected.\n      var preferences = {};\n      Object.entries(this.preferences).forEach(function (_ref21) {\n        var _ref22 = _slicedToArray(_ref21, 2),\n          day = _ref22[0],\n          data = _ref22[1];\n        preferences[day] = _objectSpread({}, data);\n      });\n\n      // Mark set duties' doctors from adjacent days possibilities.\n      // Mark set days.\n      var _loop7 = function _loop7(date) {\n        // Get current day\n        var day = _this11.getDay(date);\n\n        // Get current day's set duties' doctors.\n        var doctorsSet = Object.values(state.get(day)).map(function (d) {\n          return d.getDoctor();\n        }).filter(function (doc) {\n          return doc !== null;\n        });\n\n        // Check if duties are set and mark day as set/unset.\n        if (doctorsSet.length === _this11.dutyPositions.length) {\n          preferences[date].isSet = true;\n        } else {\n          preferences[date].isSet = false;\n        }\n\n        // Remove current day's doctors from previous day's options.\n        if (date > 1) {\n          var prevDocs = preferences[date - 1];\n          var _iterator30 = _createForOfIteratorHelper(Object.keys(prevDocs).filter(function (k) {\n              return k !== 'isSet';\n            })),\n            _step30;\n          try {\n            for (_iterator30.s(); !(_step30 = _iterator30.n()).done;) {\n              var position = _step30.value;\n              prevDocs[position] = prevDocs[position].filter(function (d) {\n                return !doctorsSet.includes(d);\n              });\n            }\n          } catch (err) {\n            _iterator30.e(err);\n          } finally {\n            _iterator30.f();\n          }\n        }\n\n        // Remove current day's doctors from next day's options.\n        if (date < _this11.days.length) {\n          var nextDocs = preferences[date + 1];\n          var _iterator31 = _createForOfIteratorHelper(Object.keys(nextDocs).filter(function (k) {\n              return k !== 'isSet';\n            })),\n            _step31;\n          try {\n            for (_iterator31.s(); !(_step31 = _iterator31.n()).done;) {\n              var _position2 = _step31.value;\n              nextDocs[_position2] = nextDocs[_position2].filter(function (d) {\n                return !doctorsSet.includes(d);\n              });\n            }\n          } catch (err) {\n            _iterator31.e(err);\n          } finally {\n            _iterator31.f();\n          }\n        }\n      };\n      for (var date = 1; date <= this.days.length; date++) {\n        _loop7(date);\n      }\n      return preferences;\n    }\n  }, {\n    key: \"setDuty\",\n    value: function setDuty(dutyData) {\n      var doctor = dutyData.getDoctor();\n      var position = dutyData.getPosition();\n      var day = this.getDay(dutyData.getDay().number);\n      var duty = this.duties.get(day)[position];\n      if (duty.getDoctor() === dutyData.getDoctor()) {\n        return;\n      }\n      duty.copy(dutyData);\n      doctor.setDuty(duty);\n      doctor.setStrain(dutyData.getStrain());\n    }\n  }, {\n    key: \"_checkForMissingDuties\",\n    value: function _checkForMissingDuties() {\n      var errors = new Set();\n      var _iterator32 = _createForOfIteratorHelper(this.days),\n        _step32;\n      try {\n        for (_iterator32.s(); !(_step32 = _iterator32.n()).done;) {\n          var day = _step32.value;\n          var dailyDuties = this.duties.get(day);\n          var _iterator33 = _createForOfIteratorHelper(this.dutyPositions),\n            _step33;\n          try {\n            for (_iterator33.s(); !(_step33 = _iterator33.n()).done;) {\n              var position = _step33.value;\n              var duty = dailyDuties[position];\n              if (duty.getDoctor() === null) {\n                errors.add(\"Nie ustalono dy\\u017Curu \".concat(day.number, \"/\") + \"\".concat(day.month, \"/\").concat(day.year, \" na pozycji \").concat(position, \".\"));\n              }\n            }\n          } catch (err) {\n            _iterator33.e(err);\n          } finally {\n            _iterator33.f();\n          }\n        }\n      } catch (err) {\n        _iterator32.e(err);\n      } finally {\n        _iterator32.f();\n      }\n      if (errors.size > 0) {\n        var joinedErrors = _toConsumableArray(errors).join('//');\n        throw Error(joinedErrors);\n      }\n    }\n  }, {\n    key: \"_checkForForbiddenDuties\",\n    value: function _checkForForbiddenDuties() {\n      var _this12 = this;\n      // 'Forbidden' duties are on same or consecutive days\n      // or on day or weekday excluded by doctor.\n      var errors = new Set();\n      var _iterator34 = _createForOfIteratorHelper(this.doctors),\n        _step34;\n      try {\n        var _loop8 = function _loop8() {\n          var doctor = _step34.value;\n          var duties = doctor.getDuties();\n          if (duties.length === 0) {\n            return \"continue\";\n          }\n          var byDate = function byDate(dutyA, dutyB) {\n            return dutyA.getDay().number - dutyB.getDay().number;\n          };\n          duties.sort(byDate);\n          var dates = duties.map(function (duty) {\n            return duty.getDay().number;\n          });\n          var exceptions = doctor.getExceptions();\n          var preferredWeekdays = doctor.getPreferredWeekdays();\n          var preferredDays = doctor.getPreferredDays();\n          var preferredPositions = doctor.getPreferredPositions();\n          dates.forEach(function (day, i, dates) {\n            var twoDutiesOnSameDay = day === dates[i + 1];\n            var dutiesOnConsecutiveDays = dates.includes(day + 1);\n            var iHaveDutyOnExcludedDay = exceptions.includes(day);\n            var iHaveDutyOnExcludedWeekday = !preferredWeekdays.includes(duties[i].getDay().weekday) && !preferredDays.includes(day);\n            var iHaveDutyOnExcludedPosition = !preferredPositions.includes(duties[i].getPosition());\n            var dutyIsUserSet = duties[i].isUserSet();\n            if (twoDutiesOnSameDay) {\n              errors.add(\"\".concat(doctor.name, \" ma zaplanowanych wiele dy\\u017Cur\\xF3w \") + \"\".concat(dates[i], \"/\").concat(_this12.month, \"/\").concat(_this12.year));\n            }\n            if (dutiesOnConsecutiveDays) {\n              errors.add(\"\".concat(doctor.name, \" ma zaplanowane dy\\u017Cury w \") + \"nast\\u0119puj\\u0105ce po sobie dni \".concat(dates[i], \" i \").concat(dates[i] + 1) + \"/\".concat(_this12.month, \"/\").concat(_this12.year, \".\"));\n            }\n            if (iHaveDutyOnExcludedDay && !dutyIsUserSet) {\n              errors.add(\"\".concat(doctor.name, \" ma zaplanowany dy\\u017Cur w zastrze\\u017Cony \") + \"dzie\\u0144 \".concat(dates[i], \"/\").concat(_this12.month, \"/\").concat(_this12.year, \".\"));\n            }\n            if (iHaveDutyOnExcludedWeekday && !dutyIsUserSet) {\n              errors.add(\"\".concat(doctor.name, \" ma zaplanowany dy\\u017Cur w \") + \"dzie\\u0144 tygodnia: \".concat(WEEKDAY_NAMES[duties[i].getDay().weekday], \", \") + \"kt\\xF3ry nie znajduje si\\u0119 na li\\u015Bcie dni tygodnia, w kt\\xF3re \" + \"mo\\u017Ce bra\\u0107 dy\\u017Cury.\");\n            }\n            if (iHaveDutyOnExcludedPosition && !dutyIsUserSet) {\n              errors.add(\"\".concat(doctor.name, \" ma zaplanowany dy\\u017Cur \").concat(dates[i]) + \"/\".concat(_this12.month, \"/\").concat(_this12.year, \" na pozycji \").concat(duties[i].getPosition(), \", \") + \"kt\\xF3ra nie znajduje si\\u0119 na li\\u015Bcie pozycji, na kt\\xF3rych \" + \"bierze dy\\u017Cury.\");\n            }\n          });\n        };\n        for (_iterator34.s(); !(_step34 = _iterator34.n()).done;) {\n          var _ret2 = _loop8();\n          if (_ret2 === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator34.e(err);\n      } finally {\n        _iterator34.f();\n      }\n      if (errors.size > 0) {\n        var joinedErrors = _toConsumableArray(errors).join('//');\n        throw Error(joinedErrors);\n      }\n    }\n  }, {\n    key: \"clearDuties\",\n    value: function clearDuties() {\n      var clearUserSetToo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var _iterator35 = _createForOfIteratorHelper(this.doctors),\n        _step35;\n      try {\n        for (_iterator35.s(); !(_step35 = _iterator35.n()).done;) {\n          var doctor = _step35.value;\n          doctor.clearDuties(clearUserSetToo);\n          doctor.clearStrain(clearUserSetToo);\n          this._removeDoctorDuties(doctor, clearUserSetToo);\n        }\n      } catch (err) {\n        _iterator35.e(err);\n      } finally {\n        _iterator35.f();\n      }\n    }\n  }, {\n    key: \"_log\",\n    value: function (_log2) {\n      function _log(_x) {\n        return _log2.apply(this, arguments);\n      }\n      _log.toString = function () {\n        return _log2.toString();\n      };\n      return _log;\n    }(function (message) {\n      _classPrivateFieldGet(this, _log).push(message);\n    })\n  }, {\n    key: \"_clearLog\",\n    value: function _clearLog() {\n      _classPrivateFieldSet(this, _log, []);\n    }\n  }, {\n    key: \"getDays\",\n    value: function getDays() {\n      return this.days;\n    }\n  }, {\n    key: \"getYear\",\n    value: function getYear() {\n      return this.year;\n    }\n  }, {\n    key: \"getMonth\",\n    value: function getMonth() {\n      return this.month;\n    }\n  }, {\n    key: \"getDuties\",\n    value: function getDuties() {\n      return this.duties;\n    }\n  }, {\n    key: \"getDuty\",\n    value: function getDuty(dayNumber, position) {\n      var day = this.getDay(dayNumber);\n      return this.duties.get(day)[position];\n    }\n  }, {\n    key: \"getDay\",\n    value: function getDay(dayNumber) {\n      return this.days[dayNumber - 1];\n    }\n  }, {\n    key: \"whoIsOnDuty\",\n    value: function whoIsOnDuty(dayNumber) {\n      var day = this.getDay(dayNumber);\n      var duties = {};\n      var _iterator36 = _createForOfIteratorHelper(this.dutyPositions),\n        _step36;\n      try {\n        for (_iterator36.s(); !(_step36 = _iterator36.n()).done;) {\n          var position = _step36.value;\n          if (day) {\n            duties[position] = this.duties.get(day)[position].getDoctor();\n          } else {\n            duties[position] = null;\n          }\n        }\n      } catch (err) {\n        _iterator36.e(err);\n      } finally {\n        _iterator36.f();\n      }\n      return duties;\n    }\n  }, {\n    key: \"getStatistics\",\n    value: function getStatistics() {\n      var statistics = [];\n      this.doctors.forEach(function (doctor) {\n        statistics.push(doctor.getStatistics());\n      });\n      var total = statistics.reduce(function (prev, item) {\n        Object.entries(item).forEach(function (entry) {\n          var name = entry[0];\n          var value = entry[1];\n          if (name !== 'name') {\n            prev[name] += value;\n          }\n        });\n        return prev;\n      }, {\n        name: 'Razem',\n        duties: 0,\n        strain: 0,\n        weekends: 0,\n        weekendDays: 0,\n        holidays: 0,\n        0: 0,\n        1: 0,\n        2: 0,\n        3: 0,\n        4: 0,\n        5: 0,\n        6: 0\n      });\n      statistics.push(total);\n      return statistics;\n    }\n  }]);\n  return MonthlyDuties;\n}();\nvar Node = /*#__PURE__*/_createClass(function Node(state, parent, action) {\n  _classCallCheck(this, Node);\n  _defineProperty(this, \"state\", void 0);\n  _defineProperty(this, \"parent\", void 0);\n  _defineProperty(this, \"action\", void 0);\n  this.state = state;\n  this.parent = parent;\n  this.action = action;\n});\nvar StackFrontier = /*#__PURE__*/function () {\n  function StackFrontier() {\n    _classCallCheck(this, StackFrontier);\n    _defineProperty(this, \"frontier\", void 0);\n    this.frontier = [];\n    this.addToFront = this.addToFront.bind(this);\n    this.addToBack = this.addToBack.bind(this);\n    this.containsState = this.containsState.bind(this);\n    this.epmty = this.empty.bind(this);\n    this.remove = this.remove.bind(this);\n  }\n  _createClass(StackFrontier, [{\n    key: \"addToFront\",\n    value: function addToFront(node) {\n      this.frontier.push(node);\n    }\n  }, {\n    key: \"addToBack\",\n    value: function addToBack(node) {\n      this.frontier.unshift(node);\n    }\n  }, {\n    key: \"containsState\",\n    value: function containsState(state) {\n      return this.frontier.some(function (elem) {\n        return elem === state;\n      });\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      return this.frontier.length === 0;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.empty()) {\n        throw Error(\"Empty frontier\");\n      } else {\n        var node = this.frontier.pop();\n        return node;\n      }\n    }\n  }]);\n  return StackFrontier;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonthlyDuties);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/MonthlyDuties.js?");

/***/ }),

/***/ 44800:
/*!***********************************************!*\
  !*** ./frontend/components/algorithm/Unit.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ 59920);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Unit = /*#__PURE__*/function () {\n  function Unit(pk, name, dutyPositions) {\n    _classCallCheck(this, Unit);\n    this.pk = pk;\n    this.name = name;\n    this.doctors = [];\n    this.dutyPositions = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.range)(1, dutyPositions + 1);\n    this.addDoctors = this.addDoctors.bind(this);\n    this.removeDoctor = this.removeDoctor.bind(this);\n  }\n  _createClass(Unit, [{\n    key: \"addDoctors\",\n    value: function addDoctors(doctorsList) {\n      this.doctors = this.doctors.concat(doctorsList);\n    }\n  }, {\n    key: \"removeDoctor\",\n    value: function removeDoctor(pk) {\n      this.doctors = this.doctors.filter(function (doctor) {\n        return !(doctor.pk === pk);\n      });\n    }\n  }]);\n  return Unit;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Unit);\n\n//# sourceURL=webpack://med-duties-app/./frontend/components/algorithm/Unit.js?");

/***/ })

}]);